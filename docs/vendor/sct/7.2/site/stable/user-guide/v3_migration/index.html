

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="An implementation of chunked, compressed, N-dimensional arrays for Python.">
      
      
        <meta name="author" content="Alistair Miles">
      
      
        <link rel="canonical" href="https://zarr.readthedocs.io/en/stable/user-guide/v3_migration/">
      
      
        <link rel="prev" href="../cli/">
      
      
        <link rel="next" href="../data_types/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>3.0 Migration Guide - zarr-python</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_markdown_exec_pyodide.css">
    
      <link rel="stylesheet" href="../../assets/_markdown_exec_ansi.css">
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../overrides/stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  <script async type="text/javascript" src="/_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="zarr" /><meta name="readthedocs-version-slug" content="stable" /><meta name="readthedocs-resolver-filename" content="/user-guide/v3_migration/" /><meta name="readthedocs-http-status" content="200" /></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#30-migration-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="zarr-python" class="md-header__button md-logo" aria-label="zarr-python" data-md-component="logo">
      
  <img src="../../_static/logo_bw.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            zarr-python
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              3.0 Migration Guide
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/zarr-developers/zarr-python" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    zarr-developers/zarr-python
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="zarr-python" class="md-nav__button md-logo" aria-label="zarr-python" data-md-component="logo">
      
  <img src="../../_static/logo_bw.png" alt="logo">

    </a>
    zarr-python
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zarr-developers/zarr-python" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    zarr-developers/zarr-python
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Zarr-Python
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick-start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick start
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    User Guide
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    User Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../arrays/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Working with arrays
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../groups/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Working with groups
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../attributes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Working with attributes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Storage guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Runtime configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Command-line interface
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    3.0 Migration Guide
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    3.0 Migration Guide
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#compatibility-target" class="md-nav__link">
    <span class="md-ellipsis">
      
        Compatibility target
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-ready-for-30" class="md-nav__link">
    <span class="md-ellipsis">
      
        Getting ready for 3.0
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#zarr-python-2-support-window" class="md-nav__link">
    <span class="md-ellipsis">
      
        Zarr-Python 2 support window
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migrating-to-zarr-python-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        Migrating to Zarr-Python 3
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Migrating to Zarr-Python 3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-array-class" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Array class
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-group-class" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Group class
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-store-class" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Store class
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Store class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-base-store-class" class="md-nav__link">
    <span class="md-ellipsis">
      
        The base store class
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store-implementations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Store implementations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codecs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Codecs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dependencies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#miscellaneous" class="md-nav__link">
    <span class="md-ellipsis">
      
        Miscellaneous
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#work-in-progress" class="md-nav__link">
    <span class="md-ellipsis">
      
        ðŸš§ Work in Progress ðŸš§
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Array data types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Optimizing performance
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../extending/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Extending Zarr
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Using GPUs with Zarr
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../consolidated_metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Consolidated metadata
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experimental/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Experimental features
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Examples
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/custom_dtype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom Data Type Example
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/zarr/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/array/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Array
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/group/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Group
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/create/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    create
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/dtype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    dtype
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/load/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    load
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/open/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    open
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/save/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    save
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/codecs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    codecs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/codecs/numcodecs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    numcodecs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/convenience/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    convenience
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/errors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    errors
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    metadata
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    registry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_17" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/zarr/abc/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    ABC
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_17" id="__nav_5_17_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_17">
            <span class="md-nav__icon md-icon"></span>
            
  
    ABC
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/abc/buffer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    buffer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/abc/codec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    codec
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/abc/numcodec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    numcodec
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/abc/metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    metadata
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/abc/store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    store
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_18" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/zarr/api/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    API
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_18" id="__nav_5_18_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_18">
            <span class="md-nav__icon md-icon"></span>
            
  
    API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/api/asynchronous/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    asynchronous
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/api/synchronous/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    synchronous
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_19" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/zarr/buffer/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Buffer
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_19" id="__nav_5_19_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_19_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_19">
            <span class="md-nav__icon md-icon"></span>
            
  
    Buffer
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/buffer/cpu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cpu
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/buffer/gpu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gpu
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_20" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/zarr/testing/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Testing
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_20" id="__nav_5_20_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_20_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_20">
            <span class="md-nav__icon md-icon"></span>
            
  
    Testing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/testing/buffer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Buffer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/testing/conftest/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Conftest
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/testing/stateful/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Stateful
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/testing/store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Store
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/testing/strategies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Strategies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/testing/utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_21" >
        
          
          <label class="md-nav__link" for="__nav_5_21" id="__nav_5_21_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    deprecated
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_21_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_21">
            <span class="md-nav__icon md-icon"></span>
            
  
    deprecated
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/deprecated/convenience/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Convenience sub-module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/zarr/deprecated/creation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Creation sub-module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Release notes
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#compatibility-target" class="md-nav__link">
    <span class="md-ellipsis">
      
        Compatibility target
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-ready-for-30" class="md-nav__link">
    <span class="md-ellipsis">
      
        Getting ready for 3.0
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#zarr-python-2-support-window" class="md-nav__link">
    <span class="md-ellipsis">
      
        Zarr-Python 2 support window
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migrating-to-zarr-python-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        Migrating to Zarr-Python 3
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Migrating to Zarr-Python 3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-array-class" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Array class
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-group-class" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Group class
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-store-class" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Store class
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Store class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-base-store-class" class="md-nav__link">
    <span class="md-ellipsis">
      
        The base store class
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store-implementations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Store implementations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codecs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Codecs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dependencies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#miscellaneous" class="md-nav__link">
    <span class="md-ellipsis">
      
        Miscellaneous
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#work-in-progress" class="md-nav__link">
    <span class="md-ellipsis">
      
        ðŸš§ Work in Progress ðŸš§
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="30-migration-guide">3.0 Migration Guide<a class="headerlink" href="#30-migration-guide" title="Permanent link">&para;</a></h1>
<p>Zarr-Python 3 represents a major refactor of the Zarr-Python codebase. Some of the
goals motivating this refactor included:</p>
<ul>
<li>adding support for the Zarr format 3 specification (along with the Zarr format 2 specification)</li>
<li>cleaning up internal and user facing APIs</li>
<li>improving performance (particularly in high latency storage environments like
  cloud object stores)</li>
</ul>
<p>To accommodate this, Zarr-Python 3 introduces a number of changes to the API, including a number
of significant breaking changes and deprecations.</p>
<p>This page provides a guide explaining breaking changes and deprecations to help you
migrate your code from version 2 to version 3. If we have missed anything, please
open a <a href="https://github.com/zarr-developers/zarr-python/issues/new">GitHub issue</a>
so we can improve this guide.</p>
<h2 id="compatibility-target">Compatibility target<a class="headerlink" href="#compatibility-target" title="Permanent link">&para;</a></h2>
<p>The goals described above necessitated some breaking changes to the API (hence the
major version update), but where possible we have maintained backwards compatibility
in the most widely used parts of the API. This in the <a class="autorefs autorefs-internal" title="zarr.Array


  
      dataclass
  " href="../../api/zarr/array/#zarr.Array"><code>zarr.Array</code></a> and
<a class="autorefs autorefs-internal" title="zarr.Group


  
      dataclass
  " href="../../api/zarr/group/#zarr.Group"><code>zarr.Group</code></a> classes and the "top-level API" (e.g. <a class="autorefs autorefs-internal" title="zarr.open_array" href="../../api/zarr/open/#zarr.open_array"><code>zarr.open_array</code></a> and
<a class="autorefs autorefs-internal" title="zarr.open_group" href="../../api/zarr/open/#zarr.open_group"><code>zarr.open_group</code></a>).</p>
<h2 id="getting-ready-for-30">Getting ready for 3.0<a class="headerlink" href="#getting-ready-for-30" title="Permanent link">&para;</a></h2>
<p>Before migrating to Zarr-Python 3, we suggest projects that depend on Zarr-Python take
the following actions in order:</p>
<ol>
<li>Pin the supported Zarr-Python version to <code>zarr&gt;=2,&lt;3</code>. This is a best practice
   and will protect your users from any incompatibilities that may arise during the
   release of Zarr-Python 3. This pin can be removed after migrating to Zarr-Python 3.</li>
<li>
<p>Limit your imports from the Zarr-Python package. Most of the primary API <code>zarr.*</code>
   will be compatible in Zarr-Python 3. However, the following breaking API changes are
   planned:</p>
</li>
<li>
<p><code>numcodecs.*</code> will no longer be available in <code>zarr.*</code>. To migrate, import codecs
     directly from <code>numcodecs</code>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">numcodecs</span><span class="w"> </span><span class="kn">import</span> <span class="n">Blosc</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="c1"># instead of:</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1"># from zarr import Blosc</span>
</span></code></pre></div>
</li>
<li>
<p>The <code>zarr.v3_api_available</code> feature flag is being removed. In Zarr-Python 3
     the v3 API is always available, so you shouldn't need to use this flag.</p>
</li>
<li>
<p>The following internal modules are being removed or significantly changed. If
     your application relies on imports from any of the below modules, you will need
     to either a) modify your application to no longer rely on these imports or b)
     vendor the parts of the specific modules that you need.</p>
<ul>
<li><code>zarr.attrs</code> has gone, with no replacement</li>
<li><code>zarr.codecs</code> has changed, see "Codecs" section below for more information</li>
<li><code>zarr.context</code> has gone, with no replacement</li>
<li><code>zarr.core</code> remains but should be considered private API</li>
<li><code>zarr.hierarchy</code> has gone, with no replacement (use <code>zarr.Group</code> inplace of <code>zarr.hierarchy.Group</code>)</li>
<li><code>zarr.indexing</code> has gone, with no replacement</li>
<li><code>zarr.meta</code> has gone, with no replacement</li>
<li><code>zarr.meta_v1</code> has gone, with no replacement</li>
<li><code>zarr.sync</code> has gone, with no replacement</li>
<li><code>zarr.types</code> has gone, with no replacement</li>
<li><code>zarr.util</code> has gone, with no replacement</li>
<li><code>zarr.n5</code> has gone, see below for an alternative N5 options</li>
</ul>
</li>
<li>
<p>Test that your package works with version 3.</p>
</li>
<li>Update the pin to include <code>zarr&gt;=3,&lt;4</code>.</li>
</ol>
<h2 id="zarr-python-2-support-window">Zarr-Python 2 support window<a class="headerlink" href="#zarr-python-2-support-window" title="Permanent link">&para;</a></h2>
<p>Zarr-Python 2.x is still available, though we recommend migrating to Zarr-Python 3 for
its performance improvements and new features. Security and bug fixes will be made to
the 2.x series for at least six months following the first Zarr-Python 3 release.
If you need to use the latest Zarr-Python 2 release, you can install it with:</p>
<div class="language-console highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="gp">$ </span>pip<span class="w"> </span>install<span class="w"> </span><span class="s2">&quot;zarr==2.*&quot;</span>
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Development and maintenance of the 2.x release series has moved to the
<a href="https://github.com/zarr-developers/zarr-python/tree/support/v2">support/v2</a> branch.
Issues and pull requests related to this branch are tagged with the
<a href="https://github.com/zarr-developers/zarr-python/labels/V2">V2</a> label.</p>
</div>
<h2 id="migrating-to-zarr-python-3">Migrating to Zarr-Python 3<a class="headerlink" href="#migrating-to-zarr-python-3" title="Permanent link">&para;</a></h2>
<p>The following sections provide details on breaking changes in Zarr-Python 3.</p>
<h3 id="the-array-class">The Array class<a class="headerlink" href="#the-array-class" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>Disallow direct construction - the signature for initializing the <code>Array</code> class has changed
   significantly. Please use <a class="autorefs autorefs-internal" title="zarr.create_array" href="../../api/zarr/create/#zarr.create_array"><code>zarr.create_array</code></a> or <a class="autorefs autorefs-internal" title="zarr.open_array" href="../../api/zarr/open/#zarr.open_array"><code>zarr.open_array</code></a> instead of
   directly constructing the <a class="autorefs autorefs-internal" title="zarr.Array


  
      dataclass
  " href="../../api/zarr/array/#zarr.Array"><code>zarr.Array</code></a> class.</p>
</li>
<li>
<p>Defaulting to <code>zarr_format=3</code> - newly created arrays will use the version 3 of the
   Zarr specification. To continue using version 2, set <code>zarr_format=2</code> when creating arrays
   or set <code>default_zarr_version=2</code> in Zarr's runtime configuration.</p>
</li>
<li>
<p>Function signature change to <a class="autorefs autorefs-internal" title="resize" href="../../api/zarr/array/#zarr.Array.resize"><code>zarr.Array.resize</code></a> - the <code>resize</code> function now takes a
   <code>zarr.core.common.ShapeLike</code> input rather than separate arguments for each dimension.
   Use <code>resize((10,10))</code> in place of <code>resize(10,10)</code>.</p>
</li>
</ol>
<h3 id="the-group-class">The Group class<a class="headerlink" href="#the-group-class" title="Permanent link">&para;</a></h3>
<ol>
<li>Disallow direct construction - use <a class="autorefs autorefs-internal" title="zarr.open_group" href="../../api/zarr/open/#zarr.open_group"><code>zarr.open_group</code></a> or <a class="autorefs autorefs-internal" title="zarr.create_group" href="../../api/zarr/create/#zarr.create_group"><code>zarr.create_group</code></a>
   instead of directly constructing the <code>zarr.Group</code> class.</li>
<li>
<p>Most of the h5py compatibility methods are deprecated and will issue warnings if used.
   The following functions are drop in replacements that have the same signature and functionality:</p>
</li>
<li>
<p>Use <a class="autorefs autorefs-internal" title="create_array" href="../../api/zarr/group/#zarr.Group.create_array"><code>zarr.Group.create_array</code></a> in place of <code>zarr.Group.create_dataset</code></p>
</li>
<li>Use <a class="autorefs autorefs-internal" title="require_array" href="../../api/zarr/group/#zarr.Group.require_array"><code>zarr.Group.require_array</code></a> in place of <code>zarr.Group.require_dataset</code></li>
<li>Disallow "." syntax for getting group members. To get a member of a group named <code>foo</code>,
   use <code>group["foo"]</code> in place of <code>group.foo</code>.</li>
</ol>
<h3 id="the-store-class">The Store class<a class="headerlink" href="#the-store-class" title="Permanent link">&para;</a></h3>
<p>The Store API has changed significant in Zarr-Python 3.</p>
<h4 id="the-base-store-class">The base store class<a class="headerlink" href="#the-base-store-class" title="Permanent link">&para;</a></h4>
<p>The <code>MutableMapping</code> base class has been replaced in favor of a custom abstract base class (<a class="autorefs autorefs-internal" title="Store" href="../../api/zarr/abc/store/#zarr.abc.store.Store"><code>zarr.abc.store.Store</code></a>).
An asynchronous interface is used for all store methods that use I/O.
This change ensures that these store methods are non-blocking and are as performant as possible.</p>
<h4 id="store-implementations">Store implementations<a class="headerlink" href="#store-implementations" title="Permanent link">&para;</a></h4>
<p>Store implementations have moved from the top-level module to <code>zarr.storage</code>:</p>
<div class="language-diff highlight"><span class="filename">Store import changes from v2 to v3</span><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a># Before (v2)
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="gd">- from zarr import MemoryStore</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="gi">+ from zarr.storage import MemoryStore</span>
</span></code></pre></div>
<p>The following stores have been renamed or changed:</p>
<table>
<thead>
<tr>
<th>v2</th>
<th>v3</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>DirectoryStore</code></td>
<td><a class="autorefs autorefs-internal" title="LocalStore" href="../../api/zarr/storage/#zarr.storage.LocalStore"><code>zarr.storage.LocalStore</code></a></td>
</tr>
<tr>
<td><code>FSStore</code></td>
<td><a class="autorefs autorefs-internal" title="FsspecStore" href="../../api/zarr/storage/#zarr.storage.FsspecStore"><code>zarr.storage.FsspecStore</code></a></td>
</tr>
<tr>
<td><code>TempStore</code></td>
<td>Use <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/tempfile.html#tempfile.TemporaryDirectory"><code>tempfile.TemporaryDirectory</code></a> with <a class="autorefs autorefs-internal" title="LocalStore" href="../../api/zarr/storage/#zarr.storage.LocalStore"><code>LocalStore</code></a></td>
</tr>
<tr>
<td>`zarr.</td>
<td></td>
</tr>
</tbody>
</table>
<p>A number of deprecated stores were also removed.
See issue #1274 for more details on the removal of these stores.</p>
<ul>
<li><code>N5Store</code> - see <a class="magiclink magiclink-github magiclink-repository" href="https://github.com/zarr-developers/n5py" title="GitHub Repository: zarr-developers/n5py">zarr-developers/n5py</a> for an alternative interface to
  N5 formatted data.</li>
<li><code>ABSStore</code> - use the <a class="autorefs autorefs-internal" title="FsspecStore" href="../../api/zarr/storage/#zarr.storage.FsspecStore"><code>zarr.storage.FsspecStore</code></a> instead along with fsspec's
  <a href="https://github.com/fsspec/adlfs">adlfs backend</a>.</li>
<li><code>DBMStore</code></li>
<li><code>LMDBStore</code></li>
<li><code>SQLiteStore</code></li>
<li><code>MongoDBStore</code></li>
<li><code>RedisStore</code></li>
</ul>
<p>The latter five stores in this list do not have an equivalent in Zarr-Python 3.
If you are interested in developing a custom store that targets these backends, see
<a href="../storage/#developing-custom-stores">developing custom stores</a> or open an
<a href="https://github.com/zarr-developers/zarr-python/issues">issue</a> to discuss your use case.</p>
<h3 id="codecs">Codecs<a class="headerlink" href="#codecs" title="Permanent link">&para;</a></h3>
<p>Codecs defined in <code>numcodecs</code> (and also imported into the <code>zarr.codecs</code> namespace in Zarr-Python 2)
should still be used when creating Zarr format 2 arrays.</p>
<p>Codecs for creating Zarr format 3 arrays are available in two locations:</p>
<ul>
<li><code>zarr.codecs</code> contains Zarr format 3 codecs that are defined in the <a href="https://zarr-specs.readthedocs.io/en/latest/v3/codecs/index.html">codecs section of the Zarr format 3 specification</a>.</li>
<li><code>numcodecs.zarr3</code> contains codecs from <code>numcodecs</code> that can be used to create Zarr format 3 arrays, but are not necessarily part of the Zarr format 3 specification.</li>
</ul>
<h3 id="dependencies">Dependencies<a class="headerlink" href="#dependencies" title="Permanent link">&para;</a></h3>
<p>When installing using <code>pip</code>:</p>
<ul>
<li>The new <code>remote</code> dependency group can be used to install a supported version of
  <code>fsspec</code>, required for remote data access.</li>
<li>The new <code>gpu</code> dependency group can be used to install a supported version of
  <code>cuda</code>, required for GPU functionality.</li>
<li>The <code>jupyter</code> optional dependency group has been removed, since v3 contains no
  jupyter specific functionality.</li>
</ul>
<h3 id="miscellaneous">Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permanent link">&para;</a></h3>
<ul>
<li>The keyword argument <code>zarr_version</code> available in most creation functions in <code>zarr</code>
  (e.g. <a class="autorefs autorefs-internal" title="zarr.create" href="../../api/zarr/create/#zarr.create"><code>zarr.create</code></a>, <a class="autorefs autorefs-internal" title="zarr.open" href="../../api/zarr/open/#zarr.open"><code>zarr.open</code></a>, <a class="autorefs autorefs-internal" title="zarr.group" href="../../api/zarr/create/#zarr.group"><code>zarr.group</code></a>, <a class="autorefs autorefs-internal" title="zarr.array" href="../../api/zarr/create/#zarr.array"><code>zarr.array</code></a>) has
  been deprecated in favor of <code>zarr_format</code>.</li>
</ul>
<h2 id="work-in-progress">ðŸš§ Work in Progress ðŸš§<a class="headerlink" href="#work-in-progress" title="Permanent link">&para;</a></h2>
<p>Zarr-Python 3 is still under active development, and is not yet fully complete.
The following list summarizes areas of the codebase that we expect to build out
after the 3.0.0 release. If features listed below are important to your use case
of Zarr-Python, please open (or comment on) a
<a href="https://github.com/zarr-developers/zarr-python/issues/new">GitHub issue</a>.</p>
<ul>
<li>
<p>The following functions / methods have not been ported to Zarr-Python 3 yet:</p>
</li>
<li>
<p><code>zarr.copy</code> (<a href="https://github.com/zarr-developers/zarr-python/issues/2407">issue #2407</a>)</p>
</li>
<li><code>zarr.copy_all</code> (<a href="https://github.com/zarr-developers/zarr-python/issues/2407">issue #2407</a>)</li>
<li><code>zarr.copy_store</code> (<a href="https://github.com/zarr-developers/zarr-python/issues/2407">issue #2407</a>)</li>
<li>
<p><code>zarr.Group.move</code> (<a href="https://github.com/zarr-developers/zarr-python/issues/2108">issue #2108</a>)</p>
</li>
<li>
<p>The following features (corresponding to function arguments to functions in
  <code>zarr</code>) have not been ported to Zarr-Python 3 yet. Using these features
  will raise a warning or a <code>NotImplementedError</code>:</p>
</li>
<li>
<p><code>cache_attrs</code></p>
</li>
<li><code>cache_metadata</code></li>
<li><code>chunk_store</code> (<a href="https://github.com/zarr-developers/zarr-python/issues/2495">issue #2495</a>)</li>
<li><code>meta_array</code></li>
<li><code>object_codec</code> (<a href="https://github.com/zarr-developers/zarr-python/issues/2617">issue #2617</a>)</li>
<li><code>synchronizer</code> (<a href="https://github.com/zarr-developers/zarr-python/issues/1596">issue #1596</a>)</li>
<li>
<p><code>dimension_separator</code></p>
</li>
<li>
<p>The following features that were supported by Zarr-Python 2 have not been ported
  to Zarr-Python 3 yet:</p>
</li>
<li>
<p>Structured arrays / dtypes (<a href="https://github.com/zarr-developers/zarr-python/issues/2134">issue #2134</a>)</p>
</li>
<li>Fixed-length string dtypes (<a href="https://github.com/zarr-developers/zarr-python/issues/2347">issue #2347</a>)</li>
<li>Datetime and timedelta dtypes (<a href="https://github.com/zarr-developers/zarr-python/issues/2616">issue #2616</a>)</li>
<li>Object dtypes (<a href="https://github.com/zarr-developers/zarr-python/issues/2616">issue #2616</a>)</li>
<li>Ragged arrays (<a href="https://github.com/zarr-developers/zarr-python/issues/2618">issue #2618</a>)</li>
<li>Groups and Arrays do not implement <code>__enter__</code> and <code>__exit__</code> protocols (<a href="https://github.com/zarr-developers/zarr-python/issues/2619">issue #2619</a>)</li>
<li>Default filters for object dtypes for Zarr format 2 arrays (<a href="https://github.com/zarr-developers/zarr-python/issues/2627">issue #2627</a>)</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
      
    
    
    
      
      
    
    <a href="https://fosstodon.org/@zarr" target="_blank" rel="noopener me" title="fosstodon.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M433 179.1c0-97.2-63.7-125.7-63.7-125.7-62.5-28.7-228.6-28.4-290.5 0 0 0-63.7 28.5-63.7 125.7 0 115.7-6.6 259.4 105.6 289.1 40.5 10.7 75.3 13 103.3 11.4 50.8-2.8 79.3-18.1 79.3-18.1l-1.7-36.9s-36.3 11.4-77.1 10.1c-40.4-1.4-83-4.4-89.6-54-.6-4.6-.9-9.3-.9-13.9 85.6 20.9 158.7 9.1 178.7 6.7 56.1-6.7 105-41.3 111.2-72.9 9.8-49.8 9-121.5 9-121.5zm-75.1 125.2h-46.6V190.1c0-49.7-64-51.6-64 6.9v62.5H201V197c0-58.5-64-56.6-64-6.9v114.2H90.3c0-122.1-5.2-147.9 18.4-175 25.9-28.9 79.8-30.8 103.8 6.1l11.6 19.5 11.6-19.5c24.1-37.1 78.1-34.8 103.8-6.1 23.7 27.3 18.4 53 18.4 175"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://bsky.app/profile/zarr.dev" target="_blank" rel="noopener" title="bsky.app" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M407.8 294.7c-3.3-.4-6.7-.8-10-1.3 3.4.4 6.7.9 10 1.3M288 227.1c-26.1-50.7-97.1-145.2-163.1-191.8C61.6-9.4 37.5-1.7 21.6 5.5 3.3 13.8 0 41.9 0 58.4S9.1 194 15 213.9c19.5 65.7 89.1 87.9 153.2 80.7 3.3-.5 6.6-.9 10-1.4-3.3.5-6.6 1-10 1.4-93.9 14-177.3 48.2-67.9 169.9C220.6 589.1 265.1 437.8 288 361.1c22.9 76.7 49.2 222.5 185.6 103.4 102.4-103.4 28.1-156-65.8-169.9-3.3-.4-6.7-.8-10-1.3 3.4.4 6.7.9 10 1.3 64.1 7.1 133.6-15.1 153.2-80.7C566.9 194 576 75 576 58.4s-3.3-44.7-21.6-52.9c-15.8-7.1-40-14.9-103.2 29.8C385.1 81.9 314.1 176.4 288 227.1"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.code.annotate", "content.code.copy", "navigation.indexes", "navigation.instant", "navigation.tracking", "search.suggest", "search.share"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
        <script src="../../assets/_markdown_exec_pyodide.js"></script>
      
    
  </body>
</html>