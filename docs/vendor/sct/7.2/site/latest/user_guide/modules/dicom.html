

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" />
  <meta name="readthedocs-addons-api-version" content="1"><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DICOM &mdash; 3D Slicer  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=0defd4e4" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <script src="../../_static/js/versions.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Markups" href="markups.html" />
    <link rel="prev" title="Data" href="data.html" /> 
<script async type="text/javascript" src="/_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="slicer" /><meta name="readthedocs-version-slug" content="latest" /><meta name="readthedocs-resolver-filename" content="/user_guide/modules/dicom.html" /><meta name="readthedocs-http-status" content="200" /></head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            3D Slicer
              <img src="../../_static/3D-Slicer-Mark.png" class="logo" alt="Logo"/>
          </a>
              <div class="switch-menus">
                <div class="version-switch"></div>
                <div class="language-switch"></div>
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about.html">About 3D Slicer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_help.html">Get Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_interface.html">User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coordinate_systems.html">Coordinate systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_loading_and_saving.html">Data Loading and Saving</a></li>
<li class="toctree-l1"><a class="reference internal" href="../image_segmentation.html">Image Segmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../registration.html">Registration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="data.html">Data</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">DICOM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dicom-introduction">DICOM introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#slicer-dicom-database">Slicer DICOM Database</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dicom-plugins">DICOM plugins</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#how-to">How to</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#create-dicom-database">Create DICOM database</a></li>
<li class="toctree-l4"><a class="reference internal" href="#read-dicom-files-into-the-scene">Read DICOM files into the scene</a></li>
<li class="toctree-l4"><a class="reference internal" href="#delete-data-from-the-dicom-database">Delete data from the DICOM database</a></li>
<li class="toctree-l4"><a class="reference internal" href="#export-data-from-the-scene-to-dicom-database">Export data from the scene to DICOM database</a></li>
<li class="toctree-l4"><a class="reference internal" href="#export-data-from-the-scene-to-dicom-files">Export data from the scene to DICOM files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dicom-networking">DICOM networking</a></li>
<li class="toctree-l4"><a class="reference internal" href="#view-dicom-metadata">View DICOM metadata</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#panels-and-their-use">Panels and their use</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#basic-usage">Basic usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#how-do-i-know-if-the-files-i-have-are-stored-using-dicom-format-how-do-i-get-started">How do I know if the files I have are stored using DICOM format? How do I get started?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#when-i-click-on-load-selection-to-slicer-i-get-an-error-message-could-not-load-as-a-scalar-volume">When I click on “Load selection to Slicer” I get an error message “Could not load … as a scalar volume”</a></li>
<li class="toctree-l4"><a class="reference internal" href="#i-try-to-import-a-directory-of-dicom-files-but-nothing-shows-up-in-the-browser">I try to import a directory of DICOM files, but nothing shows up in the browser</a></li>
<li class="toctree-l4"><a class="reference internal" href="#something-is-displayed-but-it-is-not-what-i-expected">Something is displayed, but it is not what I expected</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#slicer-integration-in-hospital-pacs-context">Slicer Integration in hospital/PACS context</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#core-assumptions-constraints">Core assumptions &amp; constraints</a></li>
<li class="toctree-l4"><a class="reference internal" href="#supported-technical-patterns">Supported technical patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="#security-privacy-and-governance">Security, privacy, and governance</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#information-for-developers">Information for developers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#related-extensions-and-modules">Related extensions and modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#contributors">Contributors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#acknowledgements">Acknowledgements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="markups.html">Markups</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="sceneviews.html">Scene Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="segmentations.html">Segmentations</a></li>
<li class="toctree-l2"><a class="reference internal" href="segmenteditor.html">Segment editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="slicerwelcome.html">Welcome</a></li>
<li class="toctree-l2"><a class="reference internal" href="transforms.html">Transforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="viewcontrollers.html">View Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="volumerendering.html">Volume rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="volumes.html">Volumes</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#wizards">Wizards</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#informatics">Informatics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#registration">Registration</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#segmentation">Segmentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#quantification">Quantification</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#sequences">Sequences</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#diffusion">Diffusion</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#filtering">Filtering</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#utilities">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#surface-models">Surface Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#converters">Converters</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#developer-tools">Developer Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#legacy-and-retired-modules">Legacy and retired modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../extensions.html">Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../settings.html">Application settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer_guide/index.html">Developer Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">3D Slicer</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Modules</a></li>
      <li class="breadcrumb-item active">DICOM</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/slicer/slicer/blob/main/Docs/user_guide/modules/dicom.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="dicom">
<h1>DICOM<a class="headerlink" href="#dicom" title="Link to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>This module allows importing and exporting and network transfer of DICOM data. Slicer provides support for the most commonly used subset of DICOM functionality, with the particular features driven by the needs of clinical research: <strong>reading</strong> and <strong>writing</strong> data sets from/to disk in DICOM format and network transfer - <strong>querying</strong>, <strong>retrieving</strong>, and <strong>sending</strong> and <strong>receiving</strong> data sets - using DIMSE and DICOMweb networking protocols.</p>
<p><img alt="" src="https://github.com/Slicer/Slicer/releases/download/docs-resources/module_dicom_operations.png" /></p>
<section id="dicom-introduction">
<h3>DICOM introduction<a class="headerlink" href="#dicom-introduction" title="Link to this heading"></a></h3>
<p>Digital Imaging and Communications in Medicine (DICOM) is a widely used standard for information exchange digital radiology. In most cases, imaging equipment (CT and MR scanners) used in the hospitals will generate images saved as DICOM objects.</p>
<p>DICOM organizes data following the hierarchy of</p>
<ul class="simple">
<li><p><strong>Patient</strong> … can have 1 or more</p>
<ul>
<li><p><strong>Study</strong> (single imaging exam encounter) … can have 1 or more</p>
<ul>
<li><p><strong>Series</strong> (single image acquisition, most often corresponding to a single image volume) … can have 1 or more</p>
<ul>
<li><p><strong>Instance</strong> (most often, each Series will contain multiple Instances, with each Instance corresponding to a single slice of the image)</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>As a result of imaging exam, imaging equipment generates DICOM files, where each file corresponds to one Instance, and is tagged with the information that allows to determine the Series, Study and Patient information to put it into the proper location in the hierarchy.</p>
<p>There is a variety of DICOM objects defined by the standard. Most common object types are those that store the image volumes produced by the CT and MR scanners. Those objects most often will have multiple files (instances) for each series. Image processing tasks most often are concerned with analyzing the whole image <em>volume</em>, which most often corresponds to a single Series.</p>
<p>More information about DICOM standard:</p>
<ul class="simple">
<li><p>The DICOM Homepage: <a class="reference external" href="https://dicom.nema.org/">https://dicom.nema.org/</a></p></li>
<li><p>DICOM on wikipedia: <a class="reference external" href="https://en.wikipedia.org/wiki/DICOM">https://en.wikipedia.org/wiki/DICOM</a></p></li>
<li><p>Clean and simple DICOM tag browser: <a class="reference external" href="https://dicom.innolitics.com">https://dicom.innolitics.com</a></p></li>
<li><p>A useful tag lookup site: <a class="reference external" href="http://dicomlookup.com/">http://dicomlookup.com/</a></p></li>
<li><p>A hyperlinked version of the standard: <a class="reference external" href="https://web.archive.org/web/20180624030937/http://dabsoft.ch/dicom/">https://web.archive.org/web/20180624030937/http://dabsoft.ch/dicom/</a></p></li>
</ul>
</section>
<section id="slicer-dicom-database">
<h3>Slicer DICOM Database<a class="headerlink" href="#slicer-dicom-database" title="Link to this heading"></a></h3>
<p>To organize the data and allow faster access, Slicer keeps a local DICOM Database containing copies of (or links to) DICOM files, and basic information about content of each file. You can have multiple databases on your computer at a time, and switch between them if, for example, they include data from different research projects.  Each database is simply a directory on your local disk that has a few <a class="reference external" href="https://sqlite.org/">SQLite</a> files and subdirectories to store image data.  Do not manually modify the contents of these directories. DICOM data can enter the database either through file import or via a DICOM network transfer. Slicer modules may also populate the DICOM database with computation results.</p>
<p>Note that the DICOM standard does not specify how files will be organized on disk, so if you have DICOM data from a CDROM or otherwise transferred from a scanner, you cannot in general tell anything about the contents from the file or directory names. However once the data is imported to the database, it will be organized according to the DICOM standard Patient/Study/Series hierarchy.</p>
</section>
<section id="dicom-plugins">
<h3>DICOM plugins<a class="headerlink" href="#dicom-plugins" title="Link to this heading"></a></h3>
<p>A main function of the DICOM module is to map from <em>acquisition</em> data organization into <em>volume</em> representation.  That is, DICOM files typically describe attributes of the image capture, like the sequence of locations of the table during CT acquisition, while Slicer operates on image volumes of regularly spaced pixels.  If, for example, the speed of the table motion is not consistent during an acquisition (which can be the case for some contrast ‘bolus chasing’ scans, Slicer’s DICOM module will warn the user that the acquisition geometry is not consistent and the user should use caution when interpreting analysis results such as measurements.</p>
<p>This means that often Slicer will be able to suggest multiple ways of interpreting the data (such as reading DICOM files as a diffusion dataset or as a scalar volume.  When it is computable by examining the files, the DICOM module will select the most likely interpretation option by default.  As of this release, standard plugins include scalar volumes and diffusion volumes, while extensions are available for segmentation objects, RT data, and PET/CT data.  More plugins are expected for future versions.  It is a long-term objective to be able to represent most, if not all, of Slicer’s data in the corresponding DICOM data objects as the standard evolves to support them.</p>
</section>
</section>
<section id="how-to">
<h2>How to<a class="headerlink" href="#how-to" title="Link to this heading"></a></h2>
<section id="create-dicom-database">
<h3>Create DICOM database<a class="headerlink" href="#create-dicom-database" title="Link to this heading"></a></h3>
<p>Creating a DICOM database is a prerequisite to all DICOM operations. When DICOM module is first opened, Slicer offers to create a new database automatically. Either choose to create a new database or open a previously created database.</p>
<p>You can open a database at another location anytime in DICOM module panel / DICOM database settings / Database location.</p>
</section>
<section id="read-dicom-files-into-the-scene">
<h3>Read DICOM files into the scene<a class="headerlink" href="#read-dicom-files-into-the-scene" title="Link to this heading"></a></h3>
<p>Since DICOM files are often located in several folders, they can cross-reference each other, and can be often interpreted in different ways, reading of DICOM files into the scene are performed as two separate steps: <em>import</em> (indexing files to be able to show them in the DICOM database browser) and <em>loading</em> (displaying selected DICOM items in the Slicer scene).</p>
<section id="dicom-import">
<h4>DICOM import<a class="headerlink" href="#dicom-import" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p>Make sure that all required Slicer extensions are installed. Slicer core contains DICOM import plugin for importing images, but additional extensions may be needed for other information objects. For example, <em>SlicerRT extension is needed for importing/exporting radiation therapy information objects (RT structure set, dose, image, plan). Quantitative reporting extension is needed to import export DICOM segmentation objects, structured reports, and parametric maps.</em> See complete list in <a class="reference internal" href="../data_loading_and_saving.html#supported-data-formats"><span class="std std-ref">supported data formats section</span></a>.</p></li>
<li><p>Go to DICOM module</p></li>
<li><p>Select folders that contain DICOM files</p>
<ul class="simple">
<li><p>Option A: Drag-and-drop the folder that contains DICOM files to the Slicer application window.</p></li>
<li><p>Option B: Click “Import” button in the top-left corner of the DICOM browser. Select folder that contains DICOM files.</p>
<ul>
<li><p>The import button has a drop-down menu, which can be displayed by clicking the small down-arrow button at the right side. Currently the only item in the menu is the “Copy imported files to DICOM database” option. Enable this option to copy all the imported DICOM files from their original location into the Slicer DICOM database. This is useful when loading data from removable media (CD/DVD/USB drives or remote drives), to be able to load the data set even after media is ejected. If the copy option is disabled then only the path of the imported files will be stored in the DICOM database (along with values of most commonly used DICOM tags).</p></li>
</ul>
</li>
</ul>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When a folder is drag-and-dropped to the Slicer application, Slicer displays a popup, asking what to do - click OK (“Load directory in DICOM database”). After import is completed, go to DICOM module.</p>
</div>
</section>
<section id="dicom-loading">
<h4>DICOM loading<a class="headerlink" href="#dicom-loading" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p>Go to DICOM module. Click “Show DICOM database” if the DICOM database window is not visible already (it shows a list of patients, studies, and series).</p></li>
<li><p>Double-click on the patient, study, or series to load.</p></li>
<li><p>Click “Show DICOM database” button to toggle between the database browser (to load more data) and the viewer (to see what is loaded into the scene already)</p></li>
</ol>
<div class="admonition-tip admonition">
<p class="admonition-title">Tip</p>
<p>Selected patients/studies/series can be loaded at once by first selecting items to load. Shift-click to select a range, Ctrl-click to select/unselect a single item. If an item in the patient or study list is selected then by default all series that belong to that item will be loaded. Click “Load” button to load selected items.</p>
</div>
<p>Advanced data loading: It is often possible to interpret DICOM data in different ways. If the application loaded data differently than expected then check “Advanced” checkbox, click “Examine” button, select all items in the list in the bottom (containing DICOM data, Reader, Warnings columns), and click “Load”.</p>
</section>
</section>
<section id="delete-data-from-the-dicom-database">
<h3>Delete data from the DICOM database<a class="headerlink" href="#delete-data-from-the-dicom-database" title="Link to this heading"></a></h3>
<p>By right clicking on a Patient, Study, or Series, you can delete the entry from the DICOM database. Note that to avoid accidental data loss, Slicer does not delete the corresponding image data files if only their link is added to the database. DICOM files that are copied into the DICOM database will be deleted from the database.</p>
</section>
<section id="export-data-from-the-scene-to-dicom-database">
<h3>Export data from the scene to DICOM database<a class="headerlink" href="#export-data-from-the-scene-to-dicom-database" title="Link to this heading"></a></h3>
<p>Data in the scene can be exported to DICOM format, to be stored in DICOM database or exported to DICOM files:</p>
<ol class="arabic simple">
<li><p>Make sure that all required Slicer extensions are installed. Slicer core contains DICOM export plugin for exporting images, but additional extensions may be needed for other information objects.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SlicerRT</span></code> extension is needed for importing/exporting radiation therapy information objects: RT structure set, RT dose, RT image, RT plan.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Quantitative</span> <span class="pre">reporting</span></code> extension is needed for importing/exporting DICOM segmentation objects, structured reports, and parametric maps.</p></li>
<li><p>See complete list in <a class="reference internal" href="../data_loading_and_saving.html#supported-data-formats"><span class="std std-ref">Supported data formats page</span></a>.</p></li>
</ul>
</li>
<li><p>Go to Data module or DICOM module.</p></li>
<li><p>Right-click on a data node in the data tree that will be converted to DICOM format.</p></li>
<li><p>Select the export type in the bottom left of the export dialog. This is necessary because there may be several DICOM information objects that can store the same kind of data. For example, segmentation can be stored as DICOM segmentation object (modern DICOM) or RT structure set (legacy representation, mostly used by radiation treatment planning).</p>
<ul class="simple">
<li><p>“Slicer data bundle” export type writes the entire scene to DICOM format by encapsulating the scene MRB package inside a DICOM file. The result as a DICOM secondary capture object, which can be stored in any DICOM archival system. This secondary capture information stores all details of the scene but only 3D Slicer can interpret the data.</p></li>
<li><p>Export type: Once the user selected a node, the DICOM plugins generate exportables for the series they can export. The list of the results appear in this section, grouped by plugin. The confidence number will be the average of the confidence numbers for the individual series for that plugin.</p></li>
</ul>
</li>
<li><p>Optional: Edit DICOM tags that will be used in the exported data sets. The metadata from the select study will be automatically filled in to the Export dialog and you can select a Slicer volume to export.</p>
<ul class="simple">
<li><p>DICOM tag editor consists of a list of tables. Tables for the common tags for the patient and study on the top, and the tags for the individual series below them.</p></li>
<li><p>“Tags” in the displayed table are not always written directly to DICOM tags, they are just used by the DICOM plugins to fill DICOM tags in the exported files. This allows much more flexibility and DICOM plugins can auto-populate some information and plugins can expose other export options in this list (e.g. compression, naming convention).</p></li>
<li><p>Save modified tags: check this checkbox to save the new tag values in the scene persistently.</p></li>
<li><p>How to set unique identifier tags:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">StudyInstanceUID</span></code> tag specifies which patient and study the new series will be added to. If the value is set to empty then a new study will be created. It is recommended to keep all patient and study values (<code class="docutils literal notranslate"><span class="pre">PatientName</span></code>, <code class="docutils literal notranslate"><span class="pre">PatientID</span></code>, <code class="docutils literal notranslate"><span class="pre">StudyID</span></code>, etc.) the same among series in the same study.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SeriesInstanceUID</span></code> tag identifies an image series. Its value is set to empty by default, which will result in creation of a new UID and thereby a new series. In very rare cases users may want to specify a UID, but the UID cannot be any of the existing UIDs because that would result in the exported image slices being mixed into another series. Therefore, the UID is only accepted if it is not used for any of the images that are already in the database.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FrameOfReferenceUID</span></code> tag specifies a spatial reference. If two images have the same frame of reference UID value then it means that they are spatially aligned. By default, the value is empty, which means that a new frame of reference UID is created and so the exported image is not associated with any other image. If an image is spatially registered to another then it is advisable to copy the frame of reference UID value from the other image, because this may be required for fused display of the images in some image review software.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Click Export</p>
<ul class="simple">
<li><p>In case of any error, a short message is displayed. More details about the error are provided in the application log.</p></li>
</ul>
</li>
</ol>
<p><em>Notes:</em></p>
<ul class="simple">
<li><p>To create DICOM files without adding them to the DICOM database, check “Export to folder” option and choose an output folder.</p></li>
<li><p>You should exercise extreme caution when working with these files in clinical situations, since non-standard or incorrect DICOM files can interfere with clinical operations.</p></li>
<li><p>To prepare DICOM patient and study manually before export, go to Data module (subject hierarchy tab), right-click in the empty space in the data tree and choose Create new subject. New studies can be created under patients the same way.</p></li>
</ul>
<p>This workflow is also explained in a 2-minute <a class="reference external" href="https://youtu.be/nzWf4xHy1BM">video tutorial</a>.</p>
</section>
<section id="export-data-from-the-scene-to-dicom-files">
<h3>Export data from the scene to DICOM files<a class="headerlink" href="#export-data-from-the-scene-to-dicom-files" title="Link to this heading"></a></h3>
<p>DICOM data stored in the database can be exported to DICOM files by right-clicking in patient/study/series list and choosing “Export to file system”.</p>
<p>Data nodes loaded into the scene can be directly exported as DICOM files in the file system by right-clicking on the item in Data module, choosing Export to DICOM, enabling “Export to folder” option, and specifying an output folder.</p>
</section>
<section id="dicom-networking">
<h3>DICOM networking<a class="headerlink" href="#dicom-networking" title="Link to this heading"></a></h3>
<p>DICOM is also a network communication standard, which specifies how data can be transferred between systems. Slicer offers the following feaures:</p>
<ul class="simple">
<li><p>DICOM listener (C-STORE SCP): to receive any data that is sent from a remote computer and store in Slicer DICOM database</p></li>
<li><p>DICOM sender (C-STORE SCU): select data from Slicer DICOM database and send it to a remote computer. Supports both traditional DIMSE and new DICOMweb protocols.</p></li>
<li><p>Query/retrieve (C-FIND SCU, C-FIND SCU): query list of images available on a remote server and retrieve selected data.</p></li>
</ul>
<p><em>Note:</em> In order to use these features, you must coordinate with the operators of the other DICOM nodes with which you wish to communicate.  For example, you must work out agreement on such topics as network ports and application entity titles (AE Titles). Be aware that not all equipment supports all networking options, so configuration may be challenging and is often difficult to troubleshoot.</p>
<p><em>Connection ports</em>: Port 104 is the standard DICOM port. All ports below 1024 require root access on unix-like systems (Linux and Mac).  So you can run Slicer with the sudo command to be able to open the port for the DICOM Listener.  Or you can use a different port, like 11112. You need to configure that on both sides of the connection. You can only have one process at a time listening on a port so if you have a listener running the second one won’t start up. Also if something adverse happens (a crash) the port may be kept open an you need to either kill the storescp helper process (or just reboot the computer) to free the port. Consult the Look at <a class="reference external" href="https://www.slicer.org/wiki/Documentation/Nightly/SlicerApplication/ErrorLog">error log</a> for diagnostic information.</p>
<section id="dicomweb-networking">
<h4>DICOMweb networking<a class="headerlink" href="#dicomweb-networking" title="Link to this heading"></a></h4>
<p>Slicer supports sending of DICOM items to a remote server using DICOMweb protocol. In send data window, set the full server URL in “Destination Address” and choose “DICOMweb” protocol.</p>
</section>
</section>
<section id="view-dicom-metadata">
<h3>View DICOM metadata<a class="headerlink" href="#view-dicom-metadata" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Go to DICOM module</p></li>
<li><p>Right-click on the item in the DICOM database window that you want to inspect</p></li>
<li><p>Choose “View DICOM metadata”</p></li>
</ol>
</section>
</section>
<section id="panels-and-their-use">
<h2>Panels and their use<a class="headerlink" href="#panels-and-their-use" title="Link to this heading"></a></h2>
<section id="basic-usage">
<h3>Basic usage<a class="headerlink" href="#basic-usage" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Import DICOM files</strong>: all DICOM files in the selected folder (including subfolders) will be scanned and added to the Slicer DICOM database. If “Import directory mode” is set to “Copy” then Slicer will make a copy of the imported files into the database folder. It is recommended to copy data if importing files from removable media (CD/DVD/USB drives) to be able to load the data set even after media is ejected. Otherwise they will only be referenced in their original location.</p></li>
<li><p><strong>Show DICOM database</strong>: toggle between DICOM browser and viewers (slice view, 3D view, etc.)</p></li>
<li><p><strong>Patient list</strong>: shows patients in the database. Studies available for the selected patient(s) are listed in study list. Multiple patients can be selected.</p></li>
<li><p><strong>Study list</strong>: shows studies for the currently selected patient(s). Multiple studies can be selected.</p></li>
<li><p><strong>Series list</strong>: shows list of series (images, structure sets, segmentations, registration objects, etc.) available for selected studies.</p></li>
<li><p><strong>Load</strong>: click this button to load currently selected loadables into Slicer.</p></li>
<li><p><strong>Loaded data</strong>: shows all content currently loaded into the scene, which can be displayed in viewers by clicking the eye icon</p></li>
</ul>
<p><img alt="" src="https://github.com/Slicer/Slicer/releases/download/docs-resources/module_dicom_basic_rev02.png" /></p>
<p>Additional options:</p>
<ul class="simple">
<li><p><strong>Search boxes</strong>: each patient/study/series can be filtered by typing in these fields.</p></li>
<li><p>Right-click menu item in patient/study/series list:</p>
<ul>
<li><p><strong>View DICOM metadata:</strong> view metadata stored in file headers of selected series</p></li>
<li><p><strong>Delete:</strong> delete the selected item from the database. If the data set was copied into the DICOM database then the DICOM files are deleted, too.</p></li>
<li><p><strong>Export to file system:</strong> export selected items to DICOM files into a selected folder</p></li>
<li><p><strong>Send to DICOM server:</strong> send selected items to a remote DICOM server using DIMSE (C-store SCP) or DICOMweb (STOW-RS) protocol.</p></li>
</ul>
</li>
</ul>
<p>Advanced loading (allows loading DICOM data sets using non-default options):</p>
<ul class="simple">
<li><p><strong>Advanced:</strong> check this checkbox to show advanced loading options</p></li>
<li><p><strong>Plugin selector section:</strong> you can choose which plugins will be allowed to examine the selected series for loading. This section is displayed if you click on “DICOM plugins” collapsible button at the bottom of DICOM module panel.</p></li>
<li><p><strong>Examine button:</strong> Runs each of the DICOM Plugins on the currently selected series and offers the result in the Loadable items list table.</p></li>
<li><p><strong>Loadable items list:</strong> displays all possible interpretations of the selected series by the selected plugins.  The plugin that most likely interprets the series correctly, is selected by default. You can override the defaults if you want to load the data in a different way. There will not always be a one-to-one mapping of selected series to list of loadable items.</p></li>
</ul>
<p><img alt="" src="https://github.com/Slicer/Slicer/releases/download/docs-resources/module_dicom_advanced_rev02.png" /></p>
<p>DICOM module settings:</p>
<ul class="simple">
<li><p><strong>DICOM networking</strong>: download data from remote server using query retrieve, set up receiving data via C-store SCP</p></li>
<li><p><strong>DICOM database settings</strong>: allows you to select a location on disk for Slicer’s database of DICOM files. The application manages content of this folder (stores metadata and copy of imported DICOM files): do not manually copy any data into this folder.</p></li>
<li><p>Additional settings are available in menu: Edit / Application Settings / DICOM:</p>
<ul>
<li><p>Generic DICOM settings:</p>
<ul>
<li><p>Load referenced series will give you the option of easily loading, for example, the source volume of a segmentation when you open the segmentation.  This can also be made to happen automatically.</p></li>
</ul>
</li>
<li><p>DICOMScalarVolumePlugin settings:</p>
<ul>
<li><p>You can choose what back-end library to use (currently GDCM, DCMTK, or GDCM with DCMTK fallback with the last option being the default.  This is provided in case some data is unsupported by one library or the other.</p></li>
<li><p>Acquisition geometry regularization option supports the creation of a nonlinear transform that corrects for things like missing slices or gantry tilt in the acquisition. The regularization transformation can also be hardened to the volume. See more information <a class="reference external" href="https://github.com/Slicer/Slicer/commit/3328b81211cb2e9ae16a0b49097744171c8c71c0">here</a></p></li>
<li><p>Autoloading subseries by time is an option break up some 4D acquisitions into individual volume, but is optional since some volumes are also acquired in time unites and should not be split.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading"></a></h2>
<section id="how-do-i-know-if-the-files-i-have-are-stored-using-dicom-format-how-do-i-get-started">
<h3>How do I know if the files I have are stored using DICOM format? How do I get started?<a class="headerlink" href="#how-do-i-know-if-the-files-i-have-are-stored-using-dicom-format-how-do-i-get-started" title="Link to this heading"></a></h3>
<p>DICOM files do not need to have a specific file extension, and it may not be straightforward to answer this question easily. However, if you have a dataset produced by a clinical scanner, it is most likely in the DICOM format. If you suspect your data might be in DICOM format, it might be easiest to try to load it as DICOM:</p>
<ol class="arabic simple">
<li><p>drag and drop the directory with your data into Slicer window. You will get a prompt “Select a reader to use for your data? Load directory into DICOM database.” Accept that selection. You will see a progress update as the content of that directory is being indexed. If the directory contained DICOM data, and import succeeded, at the completion you will see the message of how many Patient/Study/Series/Instance items were successfully imported.</p></li>
<li><p>Once import is completed, you will see the window of the DICOM Browser listing all Patients/Studies/Series currently indexed. You can next select individual items from the DICOM Browser window and load them.</p></li>
<li><p>Once you load the data into Slicer using DICOM Browser, you can switch to the “Data” module to examine the content that was imported.</p></li>
</ol>
</section>
<section id="when-i-click-on-load-selection-to-slicer-i-get-an-error-message-could-not-load-as-a-scalar-volume">
<h3>When I click on “Load selection to Slicer” I get an error message “Could not load … as a scalar volume”<a class="headerlink" href="#when-i-click-on-load-selection-to-slicer-i-get-an-error-message-could-not-load-as-a-scalar-volume" title="Link to this heading"></a></h3>
<p>A common cause of loading failure is corruption of the DICOM files by incorrect anonymization. Patient name, patient ID, and series instance UID fields should not be empty or missing (the anonymizer should replace them by other valid strings). Try to load the original, non-anonymized sequence and/or change your anonymization procedure.</p>
<p>If none of the above helps then check the Slicer error logs and report the error on the <a class="reference external" href="https://discourse.slicer.org">Slicer forum</a>. If you share the data (e.g., upload it to Dropbox and add the link to the error report) then Slicer developers can reproduce and fix the problem faster.</p>
</section>
<section id="i-try-to-import-a-directory-of-dicom-files-but-nothing-shows-up-in-the-browser">
<h3>I try to import a directory of DICOM files, but nothing shows up in the browser<a class="headerlink" href="#i-try-to-import-a-directory-of-dicom-files-but-nothing-shows-up-in-the-browser" title="Link to this heading"></a></h3>
<p>DICOM is a complex way to represent data, and often scanners and other software will generate ‘non-standard’ files that claim to be DICOM but really aren’t compliant with the specification.  In addition, the specification itself has many variations and special formats that Slicer is not able to understand.  Slicer is used most often with CT and MR DICOM objects, so these will typically work.</p>
<p>If you have trouble importing DICOM data here are some steps to try:</p>
<ul class="simple">
<li><p>Make sure you are following the <a class="reference internal" href="#dicom-loading">DICOM loading instructions</a>.</p></li>
<li><p>We are constantly improving the application (new preview version is released every day), so there is a chance that the problem you encountered is addressed in a recent version. Try loading the data using the latest stable and the latest nightly versions of Slicer.</p></li>
<li><p>Make sure the Slicer temporary folder is writeable. Temporary folder can be selected in menu: Edit / Application Settings / Modules / Temporary directory.</p></li>
<li><p>Try moving the data and the database directory to a path that includes only US English characters (ASCII) to avoid possible parsing errors. No special, international characters are allowed.</p></li>
<li><p>Make sure the database directory is on a drive that has enough free space (1GB free space should be enough). If you are running out of space then you may see this error message in an “Internal Error” popup window: <em>Exception thrown in event: Calling methods on uninitialized ctkDICOMItem</em></p></li>
<li><p>Import the files from local storage - physical drive or USB stick connected directly to the computer (not network drive, shared drive, cloud drive, google drive, virtual file system, etc.)</p></li>
<li><p>Make sure filename is not very long (below a few ten characters) and full file path on Windows is below about 200 characters</p></li>
<li><p>To confirm that your installation of Sicer is reading data correctly, try loading other data, such as <a class="reference external" href="https://s3.amazonaws.com/IsomicsPublic/SampleData/QIN-HEADNECK-01-0024-CT.zip">this anonymized sample DICOM series (CT scan)</a></p></li>
<li><p>Try import using different DICOM readers: in Application settings / DICOM / DICOMScalarVolumePlugin / DICOM reader approach: switch from DCMTK to GDCM (or GDCM to DCMTK), restart Slicer, and attempt to load the data set again.</p></li>
<li><p>See if the SlicerDcm2nii extension will convert your images. You can install this module using the Extension manager. Once installed you will be able to use the Dcm2niixGUI module from Slicer.</p></li>
<li><p>Try the <a class="reference internal" href="dicompatcher.html"><span class="std std-doc">DICOM Patcher</span></a> module.</p></li>
<li><p>Review the Error Log (menu: View / Error log) for information.</p></li>
<li><p>Try loading the data by selecting one of the files in the <a class="reference internal" href="../data_loading_and_saving.html"><span class="doc std std-doc">Add data</span></a>.  <em>Note: be sure to turn on Show Options and then turn off the Single File option in order to load the selected series as a volume</em>. In general, this is not recommended, as the loaded data may be incomplete or distorted, but it might work in some cases when proper DICOM loading fails.</p></li>
<li><p>If you are still unable to load the data, you may need to find a utility that converts the data into something Slicer can read.  Sometimes tools like <a class="reference external" href="https://surfer.nmr.mgh.harvard.edu/">FreeSurfer</a>, <a class="reference external" href="https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/">FSL</a>, <a class="reference external" href="https://github.com/rordenlab/dcm2niix">dcm2niix</a>, <a class="reference external" href="https://github.com/icometrix/dicom2nifti">dicom2nifti</a>, or <a class="reference external" href="https://www.nitrc.org/projects/mricron">MRIcron</a> can understand special formats that Slicer does not handle natively.  These systems typically export <a class="reference external" href="https://nifti.nimh.nih.gov/nifti-1/">NIfTI</a> files that Slicer can read.</p></li>
<li><p>For archival studies, are you sure that your data is in DICOM format, or is it possible the data is stored in one of the proprietary <a class="reference external" href="https://www.dclunie.com/medical-image-faq/html/part4.html">MR</a> or <a class="reference external" href="https://www.dclunie.com/medical-image-faq/html/part3.html">CT</a> formats that predated DICOM? If the latter, you may want to try the dcm2nii tool distributed with <a class="reference external" href="https://www.nitrc.org/frs/?group_id=152">MRIcron</a> up until 2016. More recent versions of MRIcorn include dcm2niix, which is better for modern DICOM images. However, the legacy dcm2nii includes support for proprietary formats from GE, Philips, Siemens and Elscint.</p></li>
<li><p>If none of the above help, then you can get help from the Slicer developer team, by posting on the <a class="reference external" href="https://discourse.slicer.org">Slicer forum</a> a short description of what you expect the data set to contain and the following information about the data set:</p>
<ul>
<li><p>You may share the DICOM files if they do not contain patient confidential information: upload the dataset somewhere (Dropbox, OneDrive, Google drive, …) and post the download link. <em>Please be careful not to accidentally reveal private health information (patient name, birthdate, ID, etc.)</em>. If you want to remove identifiers from the DICOM files you may want to look at <a class="reference external" href="https://www.dclunie.com/pixelmed/software/webstart/DicomCleanerUsage.html">DicomCleaner</a>, <a class="reference external" href="http://gdcm.sourceforge.net/html/gdcmanon.html">gdcmanon</a> or <a class="reference external" href="https://mircwiki.rsna.org/index.php?title=CTP-The_RSNA_Clinical_Trial_Processor">the RSNA Clinical Trial Processor</a> software.</p></li>
<li><p>If it is not feasible to share the DICOM files, you may share the DICOM metadata and application log instead. Make sure to <strong>remove patient name, birthdate, ID, and all other private health information</strong> from the text, upload the files somewhere (Dropbox, OneDrive, Google drive, …), and post the download link.</p>
<ul>
<li><p>To obtain DICOM metadata: right-click on the series in the DICOM browser, select View metadata, and click Copy Metadata button. Paste the copied text to any text editor.</p></li>
<li><p>To obtain detailed application log of the DICOM loading: Enable detailed logging for DICOM (menu: Edit / Application settings / DICOM / Detailed logging), then attempt to load the series (select the series in the DICOM browser and click “Load” button), and retrieve the log (menu: Help / Report a Bug -&gt; Copy log messages to clipboard).</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="something-is-displayed-but-it-is-not-what-i-expected">
<h3>Something is displayed, but it is not what I expected<a class="headerlink" href="#something-is-displayed-but-it-is-not-what-i-expected" title="Link to this heading"></a></h3>
<section id="i-would-expect-to-see-a-different-image">
<h4>I would expect to see a different image<a class="headerlink" href="#i-would-expect-to-see-a-different-image" title="Link to this heading"></a></h4>
<p>When you load a study from DICOM, it may contain several data sets and by default Slicer may not show the data set that you are most interested in. Go to Data module / Subject hierarchy section and click the “eye” icons to show/hide loaded data sets. You may need to click on the small rectangle icon (“Adjust the slice viewer’s field of view…”) on the left side of the slice selection slider after you show a volume.</p>
<p>If none of the data sets seems to be correct then follow the steps described in section “I try to import a directory of DICOM files, but nothing shows up in the browser”.</p>
</section>
<section id="image-is-stretched-or-compressed-along-one-axis">
<h4>Image is stretched or compressed along one axis<a class="headerlink" href="#image-is-stretched-or-compressed-along-one-axis" title="Link to this heading"></a></h4>
<p>Some non-clinical (industrial or pre-clinical) imaging systems do not generate valid DICOM data sets. For example, they may incorrectly assume that slice thickness tag defines image geometry, while according to DICOM standard, image slice position must be used for determining image geometry. <a class="reference internal" href="dicompatcher.html"><span class="std std-doc">DICOM Patcher</span></a> module can fix some of these images: remove the images from Slicer’s DICOM database, process the image files with DICOM Patcher module, and re-import the processed file into Slicer’s DICOM database. If image is still distorted, go to <em>Volumes</em> module, open <em>Volume information</em> section, and adjust <em>Image spacing</em> values.</p>
<p>Scanners may create image volumes with varying image slice spacing. Slicer can represent such images in the scene by apply a non-linear transform. To enable this feature, go to menu: Edit / Application settings / DICOM and set <em>Acquisition geometry regularization</em> to <em>apply regularization transform</em>. Slice view, segmentation, and many other features work directly on non-linearly transformed volumes. For some other features, such as volume rendering, you need to harden the transform on the volume: go to Data module, in the row of the volume node, right-click on the transform column, and choose <em>Harden transform</em>.</p>
<p>Note that if Slicer displays a warning about non-uniform slice spacing then it may be due to missing or corrupted DICOM files. There is no reliable mechanism to distinguish between slices that are missing because they had not been acquired (for example, to reduce patient dose) or they were acquired but later they were lost.</p>
</section>
</section>
</section>
<section id="slicer-integration-in-hospital-pacs-context">
<h2>Slicer Integration in hospital/PACS context<a class="headerlink" href="#slicer-integration-in-hospital-pacs-context" title="Link to this heading"></a></h2>
<p>This section provides practical recommendations for working with hospital IT/PACS teams to integrate Slicer (or Slicer-based applications) into clinical or research workflows.</p>
<section id="core-assumptions-constraints">
<h3>Core assumptions &amp; constraints<a class="headerlink" href="#core-assumptions-constraints" title="Link to this heading"></a></h3>
<p>It is not possible to <em>scan the network</em> to discover PACS. DICOM Application Entities (AEs) don’t self-advertise; endpoints must be explicitly provisioned (host/IP, port, AE Title) and allowed through firewalls. Leveraging its DICOM networking capabilities, Slicer is itself a DICOM AE.</p>
<p>There are two fundamental flows to work with DICOM:</p>
<ol class="arabic simple">
<li><p><strong>Push:</strong> An AE (e.g., scanner, PACS/router) pushes (<code class="docutils literal notranslate"><span class="pre">C-STORE</span></code>) to Slicer’s AE.</p></li>
<li><p><strong>Pull:</strong> Slicer queries (<code class="docutils literal notranslate"><span class="pre">C-FIND</span></code>) and retrieves (<code class="docutils literal notranslate"><span class="pre">C-MOVE</span></code> or <code class="docutils literal notranslate"><span class="pre">C-GET</span></code>) from a PACS/VNA/router.
(Slicer may also use <strong>DICOMweb</strong>: <code class="docutils literal notranslate"><span class="pre">QIDO-RS</span></code>/<code class="docutils literal notranslate"><span class="pre">WADO-RS</span></code>/<code class="docutils literal notranslate"><span class="pre">STOW-RS</span></code>.)</p></li>
</ol>
<p>In hospitals with many modalities/AEs, <strong>prefer central integration</strong> via the enterprise <strong>PACS/VNA</strong> (or a router/broker) rather than connecting Slicer to each modality individually.</p>
</section>
<section id="supported-technical-patterns">
<h3>Supported technical patterns<a class="headerlink" href="#supported-technical-patterns" title="Link to this heading"></a></h3>
<section id="push-to-slicer-c-store-slicer">
<h4>Push to Slicer (<code class="docutils literal notranslate"><span class="pre">C-STORE</span></code> → Slicer)<a class="headerlink" href="#push-to-slicer-c-store-slicer" title="Link to this heading"></a></h4>
<p><strong>Architecture:</strong> A modality, PACS, or routing node pushes specific studies/series to Slicer’s AE.</p>
<ul class="simple">
<li><p><strong>Pros:</strong> Simple user experience; deterministic; works well for scheduled research/processing pipelines.</p></li>
<li><p><strong>Cons:</strong> Requires routing rules; local copies on the Slicer host can become a shadow archive unless retention is governed; ensure consistent Patient ID/Accession handling.</p></li>
<li><p><strong>Recommendations</strong></p>
<ul>
<li><p>Register Slicer AE with PACS: <strong>AE Title / Host / Port</strong> (commonly 104 or 11112).</p></li>
<li><p>Create <strong>routing rules</strong> (e.g., by Accession Number, Modality, Study Description, Research flag).</p></li>
<li><p>Use <strong>TLS</strong> (DICOM over TLS) if mandated by policy; exchange certs with PACS.</p></li>
<li><p>Set storage quota &amp; PHI retention policy on the Slicer host.</p></li>
</ul>
</li>
</ul>
<p><strong>Best for:</strong> Controlled workflows (e.g., “all cardiac MR from clinic X to Slicer-Lab”).</p>
</section>
<section id="pull-from-pacs-vna-query-retrieve">
<h4>Pull from PACS/VNA (Query/Retrieve)<a class="headerlink" href="#pull-from-pacs-vna-query-retrieve" title="Link to this heading"></a></h4>
<p><strong>Architecture:</strong> Slicer performs <code class="docutils literal notranslate"><span class="pre">C-FIND</span></code> queries and <code class="docutils literal notranslate"><span class="pre">C-MOVE/C-GET</span></code> retrievals against PACS/VNA or a DICOM router.</p>
<ul class="simple">
<li><p><strong>Pros:</strong> On-demand; one integration point covers many modalities.</p></li>
<li><p><strong>Cons:</strong> Users need patient/study identifiers; retrieved studies also create local copies—enforce retention/purge to avoid a shadow archive; <code class="docutils literal notranslate"><span class="pre">C-MOVE</span></code> must target a valid destination AE.</p></li>
<li><p><strong>Recommendations</strong></p>
<ul>
<li><p>Provision PACS endpoint in Slicer (AE/host/port).</p></li>
<li><p><strong>C-MOVE destination:</strong> either</p>
<ul>
<li><p><strong>Slicer’s own AE</strong> (built-in <strong>C-STORE SCP</strong>), or</p></li>
<li><p>a <strong>local receiving AE</strong> on the same host/subnet (e.g., <strong>Orthanc</strong>, <strong>dcmtk <code class="docutils literal notranslate"><span class="pre">storescp</span></code></strong>) that writes to a folder or local store. Slicer then <strong>imports</strong> from that local store—either by performing <strong>DIMSE Query/Retrieve</strong> against the local AE, or by <strong>importing from a designated “hot folder”</strong> that the receiver writes to. If your local store exposes <strong>DICOMweb</strong>, you may also fetch via <code class="docutils literal notranslate"><span class="pre">QIDO-RS/WADO-RS</span></code></p></li>
</ul>
</li>
<li><p>Enforce role-appropriate <strong>access control</strong> and <strong>auditing</strong>.</p></li>
<li><p><strong>TLS</strong> per security policy.</p></li>
</ul>
</li>
</ul>
<p><strong>Best for:</strong> Interactive case selection; ad-hoc research pulls; multi-modality environments; many upstream AEs via one PACS.</p>
</section>
<section id="dicomweb-qido-rs-wado-rs-stow-rs">
<h4>DICOMweb (<code class="docutils literal notranslate"><span class="pre">QIDO-RS</span></code> / <code class="docutils literal notranslate"><span class="pre">WADO-RS</span></code> / <code class="docutils literal notranslate"><span class="pre">STOW-RS</span></code>)<a class="headerlink" href="#dicomweb-qido-rs-wado-rs-stow-rs" title="Link to this heading"></a></h4>
<p><strong>Architecture:</strong> Slicer uses <code class="docutils literal notranslate"><span class="pre">QIDO-RS</span></code> to search, <code class="docutils literal notranslate"><span class="pre">WADO-RS</span></code> to fetch, and optionally <code class="docutils literal notranslate"><span class="pre">STOW-RS</span></code> to push.</p>
<ul class="simple">
<li><p><strong>Pros:</strong> Modern HTTP(S); easier firewalling/reverse proxy; integrates with enterprise identity when used with a reverse proxy/broker; <strong>well-suited to hybrid setups</strong>—for example, <strong>Slicer running on-prem</strong> accessing a <strong>cloud-hosted archive/service</strong> through an HTTPS API gateway. The inverse also works (cloud-hosted Slicer reaching an on-prem PACS/VNA via a reverse proxy). In both cases you typically standardize on port <strong>443</strong>, use normal TLS termination, and leverage identity brokering without bespoke VPNs.</p></li>
<li><p><strong>Cons:</strong> Requires DICOMweb enablement on PACS/VNA and a compatible Slicer service for DICOMweb workflows. Core Slicer does not natively handle OIDC flows; use a proxy/broker.</p></li>
</ul>
<p><strong>Recommendations</strong></p>
<ul class="simple">
<li><p>PACS/VNA DICOMweb base URLs; <strong>mutual TLS</strong> and/or <strong>OIDC</strong> tokens per site policy.</p></li>
<li><p>Confirm <strong>multipart</strong> support and accepted <strong>transfer syntaxes</strong>; document any required auth headers or proxy paths.</p></li>
<li><p><strong>Reachability:</strong> The DICOMweb reverse proxy does not need to be internet-wide. Prefer <strong>private connectivity</strong> (VPN/PrivateLink) with a private DNS name and firewall rules allowing only hospital subnets. If a public URL is used, restrict by <strong>IP allowlists</strong>, require <strong>mTLS</strong> and/or <strong>OIDC</strong> at the proxy, and protect with a <strong>WAF/rate-limiting</strong> policy.</p></li>
</ul>
<p><strong>Definition</strong></p>
<blockquote>
<div><p>A <strong>reverse proxy</strong> is an HTTPS front end (e.g., NGINX, Apache, Kong) placed <strong>in front of</strong> the PACS/VNA. It terminates TLS and can perform <strong>OIDC/OAuth2</strong> authentication with the hospital identity provider (IdP). The reverse proxy forwards authorized <strong>DICOMweb</strong> requests to the internal service. This setup allows <strong>Slicer (on-prem or in cloud)</strong> to connect over HTTPS to a single URL, while the <strong>PACS/VNA</strong> remains isolated on its private network or VPC (reachable via private connectivity or a tightly restricted public endpoint).</p>
</div></blockquote>
<p><strong>Best for:</strong> Web-native environments, <strong>on-prem Slicer ↔ cloud archive</strong> integrations via API gateways, or sites standardizing on DICOMweb.</p>
</section>
<section id="broker-router-middle-tier-orthanc-dcm4chee-arc-commercial-routers">
<h4>Broker/Router middle tier (Orthanc, dcm4chee-arc, commercial routers)<a class="headerlink" href="#broker-router-middle-tier-orthanc-dcm4chee-arc-commercial-routers" title="Link to this heading"></a></h4>
<p><strong>Architecture:</strong> A broker sits between PACS/VNA and Slicer to handle routing, study filtering, de-identification, caching, throttling, and DIMSE↔DICOMweb translation.</p>
<ul class="simple">
<li><p><strong>Pros:</strong> Decouples Slicer from PACS; central place for <strong>filters, de-identification, study whitelists</strong>, and <strong>access auditing</strong>.</p></li>
<li><p><strong>Cons:</strong> Additional system to deploy/patch/monitor.</p></li>
</ul>
<p><strong>Best for:</strong> Research programs, multi-site feeds, de-identification pipelines, or batch processing.</p>
</section>
</section>
<section id="security-privacy-and-governance">
<h3>Security, privacy, and governance<a class="headerlink" href="#security-privacy-and-governance" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Intended use:</strong> Slicer/Slicer-based apps are typically <strong>not cleared as diagnostic devices</strong>; document intended use in SOPs.</p></li>
<li><p><strong>PHI handling:</strong> For research, perform <strong>de-identification upstream</strong> (preferably at the router) so only compliant data reaches Slicer.</p></li>
<li><p><strong>Transport security:</strong> Use <strong>DICOM over TLS</strong> (mutual certificates) and/or <strong>HTTPS</strong> for DICOMweb; plan certificate ownership and rotation.</p></li>
<li><p><strong>Identity &amp; access:</strong> Prefer centralized auth (AD/LDAP/SSO via broker or DICOMweb). Apply least-privilege access to query/pull.</p></li>
<li><p><strong>Audit:</strong> Enable and retain <strong>ATNA-style</strong> logs (who accessed what/when). See <strong>DICOM PS3.15 – A.5 Audit Trail Message Format Profile</strong> (<a class="reference external" href="https://dicom.nema.org/medical/dicom/current/output/html/part15.html#sect_A.5">link</a>) and <strong>IHE ITI TF Vol. 1, Ch. 9 – ATNA</strong> (<a class="reference external" href="https://profiles.ihe.net/ITI/TF/Volume1/ch-9.html">link</a>). Forward audit records to the organization’s <strong>SIEM (Security Information and Event Management)</strong> for centralized monitoring and retention.</p></li>
<li><p><strong>Storage &amp; retention:</strong> Define local <strong>quota</strong> and <strong>auto-purge</strong> policy (e.g., delete after N days) to avoid shadow archives; encrypt disks.</p></li>
</ul>
</section>
</section>
<section id="information-for-developers">
<h2>Information for developers<a class="headerlink" href="#information-for-developers" title="Link to this heading"></a></h2>
<p>See examples and other developer information in <a class="reference internal" href="../../developer_guide/modules/dicom.html"><span class="doc std std-doc">Developer guide</span></a> and <a class="reference internal" href="../../developer_guide/script_repository.html#dicom"><span class="std std-ref">Script repository</span></a>.</p>
</section>
<section id="related-extensions-and-modules">
<h2>Related extensions and modules<a class="headerlink" href="#related-extensions-and-modules" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="../data_loading_and_saving.html"><span class="doc std std-doc">Add data</span></a> dialog can be used to load some DICOM images directly, with bypassing the DICOM database. This may be faster in some cases, but it is not recommended, as it only supports certain kind of images and consistency and correctness of the data is not verified.</p></li>
<li><p><a class="reference external" href="https://github.com/QIICR/QuantitativeReporting#summary">Quantitative Reporting</a> extension reads and writes DICOM Segmentation Objects (label maps), structured reports, and parametric maps.</p></li>
<li><p><a class="reference external" href="https://www.slicerrt.org/">SlicerRT</a> extension reads and write DICOM Radiation Therapy objects (RT structure set, dose, image, plan, etc.) and provides tools for visualizing and analyzing them.</p></li>
<li><p><a class="reference external" href="https://github.com/QIICR/LongitudinalPETCT#longitudinalpetct">LongitudinalPETCT</a> extension reads all PET/CT studies for a selected patient and provides tools for tracking metabolic activity detected by PET tracers.</p></li>
<li><p><a class="reference internal" href="dicompatcher.html"><span class="std std-doc">DICOM Patcher</span></a> module can be used before importing to fix common DICOM non-compliance errors.</p></li>
</ul>
</section>
<section id="contributors">
<h2>Contributors<a class="headerlink" href="#contributors" title="Link to this heading"></a></h2>
<p>Authors:</p>
<ul class="simple">
<li><p>Steve Pieper (Isomics Inc.)</p></li>
<li><p>Michael Onken (Offis)</p></li>
<li><p>Marco Nolden (DFKZ)</p></li>
<li><p>Julien Finet (Kitware)</p></li>
<li><p>Stephen Aylward (Kitware)</p></li>
<li><p>Nicholas Herlambang (AZE)</p></li>
<li><p>Alireza Mehrtash (BWH)</p></li>
<li><p>Csaba Pinter (PerkLab, Queen’s)</p></li>
<li><p>Andras Lasso (PerkLab, Queen’s)</p></li>
<li><p>Jean-Christophe Fillion-Robin (Kitware)</p></li>
</ul>
</section>
<section id="acknowledgements">
<h2>Acknowledgements<a class="headerlink" href="#acknowledgements" title="Link to this heading"></a></h2>
<p>This work is part of the <a class="reference external" href="https://www.na-mic.org/">National Alliance for Medical Image Computing</a> (NA-MIC), funded by the National Institutes of Health through the NIH Roadmap for Medical Research, Grant U54 EB005149, and by Quantitative Image Informatics for Cancer Research (QIICR) (U24 CA180918).</p>
<p><img alt="" src="https://github.com/Slicer/Slicer/releases/download/docs-resources/logo_isomics.png" />
<img alt="" src="https://github.com/Slicer/Slicer/releases/download/docs-resources/logo_namic.png" />
<img alt="" src="https://github.com/Slicer/Slicer/releases/download/docs-resources/logo_nac.png" />
<img alt="" src="https://github.com/Slicer/Slicer/releases/download/docs-resources/logo_ctk.png" />
<img alt="" src="https://github.com/Slicer/Slicer/releases/download/docs-resources/logo_qiicr.png" />
<img alt="" src="https://github.com/Slicer/Slicer/releases/download/docs-resources/logo_dicom_offis.png" />
<img alt="" src="https://github.com/Slicer/Slicer/releases/download/docs-resources/logo_spl.png" />
<img alt="" src="https://github.com/Slicer/Slicer/releases/download/docs-resources/logo_perklab.png" />
<img alt="" src="https://github.com/Slicer/Slicer/releases/download/docs-resources/logo_kitware.png" /></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="data.html" class="btn btn-neutral float-left" title="Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="markups.html" class="btn btn-neutral float-right" title="Markups" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Slicer Community.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>