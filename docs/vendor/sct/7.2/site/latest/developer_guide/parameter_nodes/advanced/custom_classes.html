

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" />
  <meta name="readthedocs-addons-api-version" content="1"><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Custom Classes &mdash; 3D Slicer  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css?v=0defd4e4" />

  
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <script src="../../../_static/js/versions.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Caching" href="caching.html" />
    <link rel="prev" title="Custom Widgets for Parameter Packs" href="custom_widgets_for_parameter_packs.html" /> 
<script async type="text/javascript" src="/_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="slicer" /><meta name="readthedocs-version-slug" content="latest" /><meta name="readthedocs-resolver-filename" content="/developer_guide/parameter_nodes/advanced/custom_classes.html" /><meta name="readthedocs-http-status" content="200" /></head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            3D Slicer
              <img src="../../../_static/3D-Slicer-Mark.png" class="logo" alt="Logo"/>
          </a>
              <div class="switch-menus">
                <div class="version-switch"></div>
                <div class="language-switch"></div>
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../user_guide/about.html">About 3D Slicer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_guide/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_guide/get_help.html">Get Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_guide/user_interface.html">User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_guide/coordinate_systems.html">Coordinate systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_guide/data_loading_and_saving.html">Data Loading and Saving</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_guide/image_segmentation.html">Image Segmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_guide/registration.html">Registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_guide/modules/index.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_guide/extensions.html">Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_guide/settings.html">Application settings</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Developer Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../api.html">Slicer API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mrml_overview.html">MRML Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../module_overview.html">Module Overview</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Parameter Nodes</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../supported_types.html">Supported types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../defaults.html">Defaults</a></li>
<li class="toctree-l3"><a class="reference internal" href="../validators.html">Validators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gui_connection.html">GUI Connection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gui_creation.html">GUI Creation</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Advanced</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="custom_widgets_for_parameter_packs.html">Custom Widgets for Parameter Packs</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Custom Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="caching.html">Caching</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../modules/index.html">Modules API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extensions.html">Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../python_faq.html">Python FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../script_repository.html">Script repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/index.html">Build Instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../debugging/index.html">Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html">Contributing to Slicer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../style_guide.html">Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced_topics.html">Advanced Topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../authors.html">Credits</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">3D Slicer</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Developer Guide</a></li>
          <li class="breadcrumb-item"><a href="../index.html">Parameter Nodes</a></li>
          <li class="breadcrumb-item"><a href="index.html">Advanced</a></li>
      <li class="breadcrumb-item active">Custom Classes</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/slicer/slicer/blob/main/Docs/developer_guide/parameter_nodes/advanced/custom_classes.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="custom-classes">
<h1>Custom Classes<a class="headerlink" href="#custom-classes" title="Link to this heading"></a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Before creating your own custom class to be used by the parameter node wrapper infrastructure, see if <a class="reference internal" href="../supported_types.html#parameter-packs"><span class="std std-ref">parameter packs</span></a> fit your needs.</p>
<p>If you just want to be able to use a custom, reusable widget for a parameter pack, see <a class="reference internal" href="custom_widgets_for_parameter_packs.html"><span class="std std-doc">Custom Widgets for Parameter Packs</span></a>.</p>
</div>
<section id="using-custom-classes-in-a-parameternodewrapper">
<h2>Using custom classes in a parameterNodeWrapper<a class="headerlink" href="#using-custom-classes-in-a-parameternodewrapper" title="Link to this heading"></a></h2>
<p>This section is meant as a guide to make new types available for use in the <code class="docutils literal notranslate"><span class="pre">parameterNodeWrapper</span></code> and <code class="docutils literal notranslate"><span class="pre">parameterPack</span></code>s. The serialization section must always be done, but the GUI sections are only needed if you want to support GUI connection or creation with your type. New types should be able to be added in extensions (but this is untested).</p>
<section id="serialization-into-the-underlying-vtkmrmlscriptedmodulenode">
<h3>Serialization into the underlying vtkMRMLScriptedModuleNode<a class="headerlink" href="#serialization-into-the-underlying-vtkmrmlscriptedmodulenode" title="Link to this heading"></a></h3>
<p>One of the main things done by the <code class="docutils literal notranslate"><span class="pre">parameterNodeWrapper</span></code> is the serialization and deserialization of Python types into the <code class="docutils literal notranslate"><span class="pre">vtkMRMLScriptedModuleNode</span></code> (colloquially called a parameter node). This is thing that the <code class="docutils literal notranslate"><span class="pre">parameterNodeWrapper</span></code> wraps.</p>
<p>There are two ways to store information in the <code class="docutils literal notranslate"><span class="pre">vtkMRMLScriptedModuleNode</span></code>, as a string or as a reference to a MRML node. All non-MRML node types use the string approach. This means that when an <code class="docutils literal notranslate"><span class="pre">int</span></code> is used in the <code class="docutils literal notranslate"><span class="pre">parameterNodeWrapper</span></code>, it is stored and read as a string under the hood.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">Serializer</span></code> interface exists to read and write types into the <code class="docutils literal notranslate"><span class="pre">vtkMRMLScriptedModuleNode</span></code>. It is located in the Slicer repository in <code class="docutils literal notranslate"><span class="pre">Base/Python/slicer/parameterNodeWrapper/serializers.py</span></code>. For each new class to be used, you must create a custom serializer derived from <code class="docutils literal notranslate"><span class="pre">Serializer</span></code> and implement the needed methods. Refer to the <code class="docutils literal notranslate"><span class="pre">serializers.py</span></code> file for the methods that need to be implemented.</p>
<p>Additionally, there is a <code class="docutils literal notranslate"><span class="pre">&#64;parameterNodeSerializer</span></code> decorator that the custom serializer must be decorated with. This will register the serializer into the infrastructure so it can be found when the associated type is used in a <code class="docutils literal notranslate"><span class="pre">parameterNodeWrapper</span></code> or <code class="docutils literal notranslate"><span class="pre">parameterPack</span></code>.</p>
<p>Here is an example of a custom class serializer.</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">dataclasses</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">slicer</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">slicer.parameterNodeWrapper</span><span class="w"> </span><span class="kn">import</span> <span class="n">parameterNodeWrapper</span><span class="p">,</span> <span class="n">Serializer</span><span class="p">,</span> <span class="n">ValidatedSerializer</span>

<span class="c1"># Note: for this case it would be much simpler to just use a parameterPack.</span>
<span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CustomClass</span><span class="p">:</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">z</span><span class="p">:</span> <span class="nb">int</span>

<span class="c1"># The Serializer class is used to read and write the values to the underlying</span>
<span class="c1"># vtkMRMLScriptedModuleNode. There are built-in serializers for each of the support built-in types.</span>
<span class="c1"># Adding a new serializer involves deriving from Serializer and implementing the following methods.</span>
<span class="c1"># The @parameterNodeSerializer decorator registers the serializer so it can be found by a</span>
<span class="c1"># parameterNodeWrapper.</span>
<span class="nd">@parameterNodeSerializer</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CustomClassSerializer</span><span class="p">(</span><span class="n">Serializer</span><span class="p">):</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">canSerialize</span><span class="p">(</span><span class="n">type_</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Whether the serializer can serialize the given type if it is properly instantiated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">type_</span> <span class="o">==</span> <span class="n">CustomClass</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span><span class="n">type_</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a new serializer object based on the given type. If this class does not support the given type,</span>
<span class="sd">        None is returned.</span>

<span class="sd">        It is common for the returned type to actually be a ValidatedSerializer wrapping this serializer that implements</span>
<span class="sd">        any default validators (NotNone and IsInstance are common).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">CustomClassSerializer</span><span class="o">.</span><span class="n">canSerialize</span><span class="p">(</span><span class="n">type_</span><span class="p">):</span>
            <span class="c1"># in our example, lets say that we don&#39;t allow None. We will use NotNone() to enforce this</span>
            <span class="k">return</span> <span class="n">ValidatedSerializer</span><span class="p">(</span><span class="n">CustomClassSerializer</span><span class="p">(),</span> <span class="p">[</span><span class="n">NotNone</span><span class="p">(),</span> <span class="n">IsInstance</span><span class="p">(</span><span class="n">CustomClass</span><span class="p">)])</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The default value to use if another default is not specified.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">CustomClass</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">isIn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameterNode</span><span class="p">:</span> <span class="n">slicer</span><span class="o">.</span><span class="n">vtkMRMLScriptedModuleNode</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Whether the parameterNode contains a parameter of the given name.</span>
<span class="sd">        Note that most implementations can just use parameterNode.HasParameter(name).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">parameterNode</span><span class="o">.</span><span class="n">HasParameter</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameterNode</span><span class="p">:</span> <span class="n">slicer</span><span class="o">.</span><span class="n">vtkMRMLScriptedModuleNode</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes the value to the parameterNode under the given name.</span>
<span class="sd">        Note: It is acceptable to mangle the name as long the same name can be used for reading.</span>
<span class="sd">        For example the built-in ListSerializer does this.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">parameterNode</span><span class="o">.</span><span class="n">SetParameter</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">x</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">y</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">z</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameterNode</span><span class="p">:</span> <span class="n">slicer</span><span class="o">.</span><span class="n">vtkMRMLScriptedModuleNode</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads and returns the value with the given name from the parameterNode.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">val</span> <span class="o">=</span> <span class="n">parameterNode</span><span class="o">.</span><span class="n">GetParameter</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="n">vals</span> <span class="o">=</span> <span class="n">val</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">CustomClass</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">vals</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">vals</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">vals</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameterNode</span><span class="p">:</span> <span class="n">slicer</span><span class="o">.</span><span class="n">vtkMRMLScriptedModuleNode</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes the value of the given name from the parameterNode.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">parameterNode</span><span class="o">.</span><span class="n">UnsetParameter</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

<span class="nd">@parameterNodeWrapper</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CustomClassParameterNode</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="c1"># can now use CustomClass like any other type for building parameterNodeWrappers</span>
    <span class="n">custom</span><span class="p">:</span> <span class="n">CustomClass</span> <span class="o">=</span> <span class="n">CustomClass</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">listOfCustom</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">CustomClass</span><span class="p">]</span>
</pre></div>
</div>
<p>Note that this example doesn’t allow caching of the custom class. See <a class="reference internal" href="caching.html"><span class="std std-doc">Caching</span></a> for more information on this.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If doing more complicated container-style classes similar to <code class="docutils literal notranslate"><span class="pre">list</span></code> or <code class="docutils literal notranslate"><span class="pre">dict</span></code>, or if you are calling <code class="docutils literal notranslate"><span class="pre">parameterNode.setParameter</span></code> multiple times in a single <code class="docutils literal notranslate"><span class="pre">write</span></code> call, make sure to use <code class="docutils literal notranslate"><span class="pre">slicer.util.NodeModify</span></code> on the <code class="docutils literal notranslate"><span class="pre">vtkMRMLScriptedModuleNode</span> <span class="pre">parameterNode</span></code> before calling the writes so there is only one modification notification. This also prevent modification notifications while the value is half written.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If saving multiple sub-values in one <code class="docutils literal notranslate"><span class="pre">write</span></code> call in your custom serializer, use a character that is not allowed in a Python variable name as a separator. This will help prevent name clashes.</p>
<p>For example, the <code class="docutils literal notranslate"><span class="pre">ListSerializer</span></code> stores a separate entry in the parameter node for each element, as well as the size. Consider the following example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="nd">@parameterNodeWrapper</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ParameterNodeWrapper</span><span class="p">:</span>
    <span class="n">strings</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>

<span class="n">param</span> <span class="o">=</span> <span class="n">ParameterNodeWrapper</span><span class="p">(</span><span class="n">slicer</span><span class="o">.</span><span class="n">mrmlScene</span><span class="o">.</span><span class="n">AddNewNodeByClass</span><span class="p">(</span><span class="s2">&quot;vtkMRMLScriptedModuleNode&quot;</span><span class="p">))</span>
<span class="n">param</span><span class="o">.</span><span class="n">strings</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>Four separate elements are stored in the underlying <code class="docutils literal notranslate"><span class="pre">vtkMRMLScriptedModuleNode</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">strings.len</span> <span class="pre">=</span> <span class="pre">4</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">strings.0</span> <span class="pre">=</span> <span class="pre">&quot;a&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">strings.1</span> <span class="pre">=</span> <span class="pre">&quot;b&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">strings.2</span> <span class="pre">=</span> <span class="pre">&quot;c&quot;</span></code></p></li>
</ul>
<p>By using a <code class="docutils literal notranslate"><span class="pre">.</span></code> in the element keys (as opposed to something like <code class="docutils literal notranslate"><span class="pre">_</span></code> which is valid in variable names), we ensure that we cannot accidentally conflict with another variable named something like <code class="docutils literal notranslate"><span class="pre">strings_len</span></code>.</p>
</div>
</section>
<section id="gui-connection">
<h3>GUI connection<a class="headerlink" href="#gui-connection" title="Link to this heading"></a></h3>
<p>Automatic GUI connection is another thing that may be useful for your custom class. Similar to the serializer above, there is a <code class="docutils literal notranslate"><span class="pre">GuiConnector</span></code> interface that must be implemented and a <code class="docutils literal notranslate"><span class="pre">&#64;parameterNodeGuiConnector</span></code> decorator for registering it.</p>
<p>The point of the <code class="docutils literal notranslate"><span class="pre">GuiConnector</span></code> is to give all widgets the same interface so they can be used generically by the infrastructure. It is assumed that all widgets used with the <code class="docutils literal notranslate"><span class="pre">parameterNodeWrapper</span></code> allow the input of some value. The <code class="docutils literal notranslate"><span class="pre">GuiConnector</span></code> is responsible for converting the widget’s representation of that this value to something the serializer can understand (namely an instance of the Python type used in the type hint).</p>
<p>For each parameter and its corresponding widget in a <code class="docutils literal notranslate"><span class="pre">parameterNodeWrapper.connectGui</span></code> call, the infrastructure will ask each registered <code class="docutils literal notranslate"><span class="pre">GuiConnector</span></code> type if it can connect the parameter type to the widget. If it says yes, it will create that connector. The connectors can inspect the type for any annotations, such as <code class="docutils literal notranslate"><span class="pre">Validator</span></code>s, and use that information to adjust the properties of the given widget.</p>
<p>See the <code class="docutils literal notranslate"><span class="pre">GuiConnector</span></code> class in <code class="docutils literal notranslate"><span class="pre">Base/Python/slicer/parameterNodeWrapper/guiConnectors.py</span></code> for a complete list of methods to implement.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If your custom class can be represented by multiple widgets, it is often easiest to make a separate <code class="docutils literal notranslate"><span class="pre">GuiConnector</span></code> for each type-widget pair.</p>
</div>
</section>
<section id="gui-creation">
<h3>GUI creation<a class="headerlink" href="#gui-creation" title="Link to this heading"></a></h3>
<p>Should you also desire automatic GUI creation of your custom class, that can be achieved as well.</p>
<p>There is a <code class="docutils literal notranslate"><span class="pre">GuiCreator</span></code> interface that can be implemented and a <code class="docutils literal notranslate"><span class="pre">&#64;parameterNodeGuiCreator</span></code> decorator for registering the creator.</p>
<p>Because it is possible to represent types using different widgets, and annotations like <code class="docutils literal notranslate"><span class="pre">Minimum</span></code> and <code class="docutils literal notranslate"><span class="pre">Maximum</span></code> can influence which widget is the “best” representation, <code class="docutils literal notranslate"><span class="pre">GuiCreator</span></code>s are asked how well they can represent a possibly annotated type, and the one with the highest representation value is used.</p>
<p>The range for representation values is 0 - 100 (although there is no enforcement of this). A value of 0 means the type cannot be represented by a widget created by this creator, whereas 100 means this creator can make the perfect widget for representing the type. The highest representation value given by the built in creator is 90, which is when the <code class="docutils literal notranslate"><span class="pre">Choice</span></code> validator is used. This means you could write <code class="docutils literal notranslate"><span class="pre">GuiCreator</span></code>s that for already supported types that will override the widget used if certain custom annotations are found.</p>
<p>See the <code class="docutils literal notranslate"><span class="pre">GuiCreator</span></code> class in <code class="docutils literal notranslate"><span class="pre">Slicer-build/bin/Python/slicer/parameterNodeWrapper/guiCreation.py</span></code> for a complete list of methods to implement.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="custom_widgets_for_parameter_packs.html" class="btn btn-neutral float-left" title="Custom Widgets for Parameter Packs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="caching.html" class="btn btn-neutral float-right" title="Caching" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Slicer Community.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>