

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" />
  <meta name="readthedocs-addons-api-version" content="1"><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Outputs of tedana &mdash; tedana 25.1.1a3.dev2+ge0932906e documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8f2a1f02" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="_static/theme_overrides.css?v=ef81f6ce" />

  
    <link rel="shortcut icon" href="_static/tedana_favicon.png"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=643184eb"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="_static/copybutton.js?v=f281be69"></script>
      <script src="https://cdn.rawgit.com/chrisfilo/zenodo.js/v0.1/zenodo.js"></script>
    <script src="_static/js/theme.js"></script>
    <script src="_static/js/versions.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="FAQ" href="faq.html" />
    <link rel="prev" title="tedana’s denoising approach" href="approach.html" /> 
<script async type="text/javascript" src="/_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="tedana" /><meta name="readthedocs-version-slug" content="latest" /><meta name="readthedocs-resolver-filename" content="/outputs.html" /><meta name="readthedocs-http-status" content="200" /></head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            tedana
          </a>
              <div class="switch-menus">
                <div class="version-switch"></div>
                <div class="language-switch"></div>
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi-echo.html">About multi-echo fMRI</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Using tedana from the command line</a></li>
<li class="toctree-l1"><a class="reference internal" href="approach.html">tedana’s denoising approach</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Outputs of tedana</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#output-filename-descriptions">Output filename descriptions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#standard-filename-outputs">Standard filename outputs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#if-verbose-is-set-to-true">If <code class="docutils literal notranslate"><span class="pre">verbose</span></code> is set to True</a></li>
<li class="toctree-l3"><a class="reference internal" href="#if-tedort-is-true">If <code class="docutils literal notranslate"><span class="pre">tedort</span></code> is True</a></li>
<li class="toctree-l3"><a class="reference internal" href="#if-gscontrol-includes-gsr">If <code class="docutils literal notranslate"><span class="pre">gscontrol</span></code> includes ‘gsr’</a></li>
<li class="toctree-l3"><a class="reference internal" href="#if-gscontrol-includes-mir">If <code class="docutils literal notranslate"><span class="pre">gscontrol</span></code> includes ‘mir’</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#classification-output-descriptions">Classification output descriptions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tedpca-codes">TEDPCA codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ica-classification-outputs">ICA Classification Outputs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ica-components-report">ICA Components Report</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#report-structure">Report Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#summary-view">Summary View</a></li>
<li class="toctree-l3"><a class="reference internal" href="#individual-component-view">Individual Component View</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reports-user-interactions">Reports User Interactions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#robustica-component-clusters">RobustICA Component Clusters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#carpet-plots">Carpet plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adaptive-mask-summary-plot">Adaptive Mask Summary Plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="#t2-and-s0-summary-plots">T2* and S0 Summary Plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="#decay-model-fit-plots">Decay Model Fit Plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="#global-signal-removal-plots">Global Signal Removal Plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="#citable-workflow-summaries">Citable workflow summaries</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_decision_trees.html">Understanding and building a component selection process</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support and communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to tedana</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">The tedana roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="denoising.html">Denoising Data with Components</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/ME-ICA/tedana/releases">What's New</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">tedana</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Outputs of tedana</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/outputs.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="outputs-of-tedana">
<span id="outputs"></span><h1>Outputs of tedana<a class="headerlink" href="#outputs-of-tedana" title="Link to this heading"></a></h1>
<p>When <code class="docutils literal notranslate"><span class="pre">tedana</span></code> is run, it outputs many files and an html report to help interpret the
results. This details the contents of all outputted files, explains the terminology
used for describing the outputs of classification, and details the contents of the html
report.</p>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#output-filename-descriptions" id="id4">Output filename descriptions</a></p>
<ul>
<li><p><a class="reference internal" href="#standard-filename-outputs" id="id5">Standard filename outputs</a></p></li>
<li><p><a class="reference internal" href="#if-verbose-is-set-to-true" id="id6">If <code class="docutils literal notranslate"><span class="pre">verbose</span></code> is set to True</a></p></li>
<li><p><a class="reference internal" href="#if-tedort-is-true" id="id7">If <code class="docutils literal notranslate"><span class="pre">tedort</span></code> is True</a></p></li>
<li><p><a class="reference internal" href="#if-gscontrol-includes-gsr" id="id8">If <code class="docutils literal notranslate"><span class="pre">gscontrol</span></code> includes ‘gsr’</a></p></li>
<li><p><a class="reference internal" href="#if-gscontrol-includes-mir" id="id9">If <code class="docutils literal notranslate"><span class="pre">gscontrol</span></code> includes ‘mir’</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#classification-output-descriptions" id="id10">Classification output descriptions</a></p>
<ul>
<li><p><a class="reference internal" href="#tedpca-codes" id="id11">TEDPCA codes</a></p></li>
<li><p><a class="reference internal" href="#ica-classification-outputs" id="id12">ICA Classification Outputs</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#ica-components-report" id="id13">ICA Components Report</a></p>
<ul>
<li><p><a class="reference internal" href="#report-structure" id="id14">Report Structure</a></p></li>
<li><p><a class="reference internal" href="#summary-view" id="id15">Summary View</a></p></li>
<li><p><a class="reference internal" href="#individual-component-view" id="id16">Individual Component View</a></p></li>
<li><p><a class="reference internal" href="#reports-user-interactions" id="id17">Reports User Interactions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#robustica-component-clusters" id="id18">RobustICA Component Clusters</a></p></li>
<li><p><a class="reference internal" href="#carpet-plots" id="id19">Carpet plots</a></p></li>
<li><p><a class="reference internal" href="#adaptive-mask-summary-plot" id="id20">Adaptive Mask Summary Plot</a></p></li>
<li><p><a class="reference internal" href="#t2-and-s0-summary-plots" id="id21">T2* and S0 Summary Plots</a></p></li>
<li><p><a class="reference internal" href="#decay-model-fit-plots" id="id22">Decay Model Fit Plots</a></p></li>
<li><p><a class="reference internal" href="#global-signal-removal-plots" id="id23">Global Signal Removal Plots</a></p></li>
<li><p><a class="reference internal" href="#citable-workflow-summaries" id="id24">Citable workflow summaries</a></p></li>
</ul>
</nav>
<section id="output-filename-descriptions">
<span id="id1"></span><h2><a class="toc-backref" href="#id4" role="doc-backlink">Output filename descriptions</a><a class="headerlink" href="#output-filename-descriptions" title="Link to this heading"></a></h2>
<p>The output include files for the optimally combined and denoised
data and many additional files to help understand the results and fascilitate
future processing. <code class="docutils literal notranslate"><span class="pre">tedana</span></code> allows for multiple file naming conventions. The key labels
and naming options for each convention that can be set using the <code class="docutils literal notranslate"><span class="pre">--convention</span></code> option
are in <a class="reference external" href="https://github.com/ME-ICA/tedana/blob/main/tedana/resources/config/outputs.json">outputs.json</a>. The output of <code class="docutils literal notranslate"><span class="pre">tedana</span></code> also includes a file called
<code class="docutils literal notranslate"><span class="pre">registry.json</span></code> or <code class="docutils literal notranslate"><span class="pre">desc-tedana_registry.json</span></code> that includes the keys and the matching
file names for the output. The table below lists both these keys and the default
“BIDS Derivatives” file names.</p>
<section id="standard-filename-outputs">
<span id="id2"></span><h3><a class="toc-backref" href="#id5" role="doc-backlink">Standard filename outputs</a><a class="headerlink" href="#standard-filename-outputs" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Key: Filename</p></th>
<th class="head"><p>Content</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>“registry json”: desc-tedana_registry.json</p></td>
<td><p>Mapping of file name keys to filename locations</p></td>
</tr>
<tr class="row-odd"><td><p>“data description json”: dataset_description.json</p></td>
<td><p>Top-level metadata for the workflow.</p></td>
</tr>
<tr class="row-even"><td><p>tedana_report.html</p></td>
<td><p>The interactive HTML report.</p></td>
</tr>
<tr class="row-odd"><td><p>“combined img”: desc-optcom_bold.nii.gz</p></td>
<td><p>Optimally combined time series.</p></td>
</tr>
<tr class="row-even"><td><p>“denoised ts img”: desc-denoised_bold.nii.gz</p></td>
<td><p>Denoised optimally combined time series. Recommended
dataset for analysis.</p></td>
</tr>
<tr class="row-odd"><td><p>“adaptive mask img”: desc-adaptiveGoodSignal_mask.nii.gz</p></td>
<td><p>Integer-valued mask used in the workflow, where
each voxel’s value corresponds to the number of good
echoes to be used for T2*/S0 estimation. Will be
calculated whether original mask estimated within
tedana or user-provided. All voxels with 1 good
echo will be included in outputted time series
but only voxels with at least 3 good echoes will be
used in ICA and metric calculations</p></td>
</tr>
<tr class="row-even"><td><p>“t2star img”: T2starmap.nii.gz</p></td>
<td><p>Full estimated T2* 3D map.
Values are in seconds. If a voxel has at least 1 good
echo then the first two echoes will be used to estimate
a value (an impresise weighting for optimal combination
is better than fully excluding a voxel)</p></td>
</tr>
<tr class="row-odd"><td><p>“s0 img”: S0map.nii.gz</p></td>
<td><p>Full S0 3D map. If a voxel has at least 1 good
echo then the first two echoes will be used to estimate
a value</p></td>
</tr>
<tr class="row-even"><td><p>“PCA mixing tsv”: desc-PCA_mixing.tsv</p></td>
<td><p>Mixing matrix (component time series) from PCA
decomposition in a tab-delimited file. Each column is
a different component, and the column name is the
component number.</p></td>
</tr>
<tr class="row-odd"><td><p>“PCA decomposition json”: desc-PCA_decomposition.json</p></td>
<td><p>Metadata for the PCA decomposition.</p></td>
</tr>
<tr class="row-even"><td><p>“z-scored PCA components img”: desc-PCA_stat-z_components.nii.gz</p></td>
<td><p>Component weight maps from PCA decomposition.
Each map corresponds to the same component index in
the mixing matrix and component table.
Maps are in z-statistics.</p></td>
</tr>
<tr class="row-odd"><td><p>“PCA metrics tsv”: desc-PCA_metrics.tsv</p></td>
<td><p>TEDPCA component table. A BIDS Derivatives-compatible
TSV file with summary metrics and inclusion/exclusion
information for each component from the PCA
decomposition.</p></td>
</tr>
<tr class="row-even"><td><p>“PCA metrics json”: desc-PCA_metrics.json</p></td>
<td><p>Metadata about the metrics in <code class="docutils literal notranslate"><span class="pre">desc-PCA_metrics.tsv</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>“PCA cross component metrics json”: desc-PCACrossComponent_metrics.json</p></td>
<td><p>Measures calculated across PCA compononents including
values for the full cost function curves for all
AIC, KIC, and MDL cost functions and the number of
components and variance explained for multiple options
Figures for the cost functions and variance explained
are also in
<code class="docutils literal notranslate"><span class="pre">./figures//pca_[criteria|variance_explained.png]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>“ICA mixing tsv”: desc-ICA_mixing.tsv</p></td>
<td><p>Mixing matrix (component time series) from ICA
decomposition in a tab-delimited file. Each column is
a different component, and the column name is the
component number.</p></td>
</tr>
<tr class="row-odd"><td><p>“ICA components img”: desc-ICA_components.nii.gz</p></td>
<td><p>Full ICA coefficient feature set.</p></td>
</tr>
<tr class="row-even"><td><p>“z-scored ICA components img”: desc-ICA_stat-z_components.nii.gz</p></td>
<td><p>Z-statistic component weight maps from ICA
decomposition.
Values are z-transformed standardized regression
coefficients. Each map corresponds to the same
component index in the mixing matrix and component table.</p></td>
</tr>
<tr class="row-odd"><td><p>“ICA decomposition json”: desc-ICA_decomposition.json</p></td>
<td><p>Metadata for the ICA decomposition.</p></td>
</tr>
<tr class="row-even"><td><p>“ICA metrics tsv”: desc-tedana_metrics.tsv</p></td>
<td><p>TEDICA component table. A BIDS Derivatives-compatible
TSV file with summary metrics and inclusion/exclusion
information for each component from the ICA
decomposition.</p></td>
</tr>
<tr class="row-odd"><td><p>“ICA metrics json”: desc-tedana_metrics.json</p></td>
<td><p>Metadata about the metrics in
<code class="docutils literal notranslate"><span class="pre">desc-tedana_metrics.tsv</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>“ICA cross component metrics json”: desc-ICACrossComponent_metrics.json</p></td>
<td><p>Metric names and values that are each a single number
calculated across components. For example, kappa and
rho elbows.</p></td>
</tr>
<tr class="row-odd"><td><p>“ICA decision tree json”: desc-ICA_decision_tree</p></td>
<td><p>A copy of the inputted decision tree specification with
an added “output” field for each node. The output field
contains information about what happened during
execution.</p></td>
</tr>
<tr class="row-even"><td><p>“ICA status table tsv”: desc-ICA_status_table.tsv</p></td>
<td><p>A table where each column lists the classification
status of each component after each node was run.
Columns are only added for runs where component
statuses can change.</p></td>
</tr>
<tr class="row-odd"><td><p>“ICA accepted components img”: desc-ICAAccepted_components.nii.gz</p></td>
<td><p>High-kappa ICA coefficient feature set</p></td>
</tr>
<tr class="row-even"><td><p>“z-scored ICA accepted components img”: desc-ICAAcceptedZ_components.nii.gz</p></td>
<td><p>Z-normalized spatial component maps</p></td>
</tr>
<tr class="row-odd"><td><p>report.txt</p></td>
<td><p>A summary report for the workflow with relevant
citations.</p></td>
</tr>
<tr class="row-even"><td><p>“low kappa ts img”: desc-optcomRejected_bold.nii.gz</p></td>
<td><p>Combined time series from rejected components.</p></td>
</tr>
<tr class="row-odd"><td><p>“high kappa ts img”: desc-optcomAccepted_bold.nii.gz</p></td>
<td><p>High-kappa time series. This dataset does not
include thermal noise or low variance components.
Not the recommended dataset for analysis.</p></td>
</tr>
<tr class="row-even"><td><p>“confounds tsv”: desc-confounds_timeseries.tsv</p></td>
<td><p>Summary time series measures, including RMSE measures
of T2*/S0 model fit.</p></td>
</tr>
<tr class="row-odd"><td><p>references.bib</p></td>
<td><p>The BibTeX entries for references cited in
report.txt.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="if-verbose-is-set-to-true">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">If <code class="docutils literal notranslate"><span class="pre">verbose</span></code> is set to True</a><a class="headerlink" href="#if-verbose-is-set-to-true" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Key: Filename</p></th>
<th class="head"><p>Content</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>“limited t2star img”: desc-limited_T2starmap.nii.gz</p></td>
<td><p>Limited T2* map/time series.
Values are in seconds.
Unlike the full T2* maps, if only one 1 echo contains
good data the limited map will have NaN</p></td>
</tr>
<tr class="row-odd"><td><p>“limited s0 img”: desc-limited_S0map.nii.gz</p></td>
<td><p>Limited S0 map/time series.
Unlike the full S0 maps, if only one 1 echo contains
good data the limited map will have NaN</p></td>
</tr>
<tr class="row-even"><td><p>“whitened img”: desc-optcom_whitened_bold</p></td>
<td><p>The optimally combined data after whitening</p></td>
</tr>
<tr class="row-odd"><td><p>“echo weight [PCA|ICA] maps split img”: echo-[echo]_desc-[PCA|ICA]_components.nii.gz</p></td>
<td><p>Echo-wise PCA/ICA component weight maps.</p></td>
</tr>
<tr class="row-even"><td><p>“echo T2 [PCA|ICA] split img”: echo-[echo]_desc-[PCA|ICA]T2ModelPredictions_components.nii.gz</p></td>
<td><p>Component- and voxel-wise R2-model predictions,
separated by echo.</p></td>
</tr>
<tr class="row-odd"><td><p>“echo S0 [PCA|ICA] split img”: echo-[echo]_desc-[PCA|ICA]S0ModelPredictions_components.nii.gz</p></td>
<td><p>Component- and voxel-wise S0-model predictions,
separated by echo.</p></td>
</tr>
<tr class="row-even"><td><p>“[PCA|ICA] component weights img”: desc-[PCA|ICA]AveragingWeights_components.nii.gz</p></td>
<td><p>Component-wise averaging weights for metric
calculation.</p></td>
</tr>
<tr class="row-odd"><td><p>“[PCA|ICA] component F-S0 img”: desc-[PCA|ICA]S0_stat-F_statmap.nii.gz</p></td>
<td><p>F-statistic map for each component, for the S0 model.</p></td>
</tr>
<tr class="row-even"><td><p>“[PCA|ICA] component F-T2 img”: desc-[PCA|ICA]T2_stat-F_statmap.nii.gz</p></td>
<td><p>F-statistic map for each component, for the T2 model.</p></td>
</tr>
<tr class="row-odd"><td><p>“PCA reduced img”: desc-optcomPCAReduced_bold.nii.gz</p></td>
<td><p>Optimally combined data after dimensionality
reduction with PCA. This is the input to the ICA.</p></td>
</tr>
<tr class="row-even"><td><p>“high kappa ts split img”: echo-[echo]_desc-Accepted_bold.nii.gz</p></td>
<td><p>High-Kappa time series for echo number <code class="docutils literal notranslate"><span class="pre">echo</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>“low kappa ts split img”: echo-[echo]_desc-Rejected_bold.nii.gz</p></td>
<td><p>Low-Kappa time series for echo number <code class="docutils literal notranslate"><span class="pre">echo</span></code></p></td>
</tr>
<tr class="row-even"><td><p>“denoised ts split img”: echo-[echo]_desc-Denoised_bold.nii.gz</p></td>
<td><p>Denoised time series for echo number <code class="docutils literal notranslate"><span class="pre">echo</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="if-tedort-is-true">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">If <code class="docutils literal notranslate"><span class="pre">tedort</span></code> is True</a><a class="headerlink" href="#if-tedort-is-true" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Key: Filename</p></th>
<th class="head"><p>Content</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>“ICA orthogonalized mixing tsv”: desc-ICAOrth_mixing.tsv</p></td>
<td><p>Mixing matrix with rejected components orthogonalized
from accepted components</p></td>
</tr>
</tbody>
</table>
</section>
<section id="if-gscontrol-includes-gsr">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">If <code class="docutils literal notranslate"><span class="pre">gscontrol</span></code> includes ‘gsr’</a><a class="headerlink" href="#if-gscontrol-includes-gsr" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Key: Filename</p></th>
<th class="head"><p>Content</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>“gs img”: desc-globalSignal_map.nii.gz</p></td>
<td><p>Spatial global signal</p></td>
</tr>
<tr class="row-odd"><td><p>“confounds tsv”: desc-confounds_timeseries.tsv</p></td>
<td><p>Time series of global signal from optimally combined
data will be added to this file.</p></td>
</tr>
<tr class="row-even"><td><p>“has gs combined img”: desc-optcomWithGlobalSignal_bold.nii.gz</p></td>
<td><p>Optimally combined time series with global signal
retained.</p></td>
</tr>
<tr class="row-odd"><td><p>“removed gs combined img”: desc-optcomNoGlobalSignal_bold.nii.gz</p></td>
<td><p>Optimally combined time series with global signal
removed.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="if-gscontrol-includes-mir">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">If <code class="docutils literal notranslate"><span class="pre">gscontrol</span></code> includes ‘mir’</a><a class="headerlink" href="#if-gscontrol-includes-mir" title="Link to this heading"></a></h3>
<p>(Minimal intensity regression, which may help remove some T1 noise and
was an option in the MEICA v2.5 code, but never fully explained or evaluted in a publication)</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Key: Filename</p></th>
<th class="head"><p>Content</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>“t1 like img”: desc-T1likeEffect_min.nii.gz</p></td>
<td><p>T1-like effect</p></td>
</tr>
<tr class="row-odd"><td><p>“mir denoised img”: desc-optcomMIRDenoised_bold.nii.gz</p></td>
<td><p>Denoised time series after MIR</p></td>
</tr>
<tr class="row-even"><td><p>“ICA MIR mixing tsv”: desc-ICAMIRDenoised_mixing.tsv</p></td>
<td><p>ICA mixing matrix after MIR</p></td>
</tr>
<tr class="row-odd"><td><p>“ICA accepted mir component weights img”: desc-ICAAcceptedMIRDenoised_components.nii.gz</p></td>
<td><p>high-kappa components after MIR</p></td>
</tr>
<tr class="row-even"><td><p>“ICA accepted mir denoised img”: desc-optcomAcceptedMIRDenoised_bold.nii.gz</p></td>
<td><p>high-kappa time series after MIR</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="classification-output-descriptions">
<span id="id3"></span><h2><a class="toc-backref" href="#id10" role="doc-backlink">Classification output descriptions</a><a class="headerlink" href="#classification-output-descriptions" title="Link to this heading"></a></h2>
<p>TEDPCA and TEDICA use component tables to track relevant metrics, component
classifications, and rationales behind classifications.
The component tables and additional information are stored as tsv and json files,
labeled “ICA metrics” and “PCA metrics” in <a class="reference internal" href="#standard-filename-outputs"><span class="std std-ref">Standard filename outputs</span></a> This section
explains the classification codes those files in more detail.
<a class="reference internal" href="building_decision_trees.html"><span class="doc">Understanding and building a component selection process</span></a> covers the full process, and not just the
descriptions of outputted files.</p>
<section id="tedpca-codes">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">TEDPCA codes</a><a class="headerlink" href="#tedpca-codes" title="Link to this heading"></a></h3>
<p>In <code class="docutils literal notranslate"><span class="pre">tedana</span></code> PCA is used to reduce the number of dimensions (components) in the
dataset. Without this step, the number of components would be one less than
the number of volumes, many of those components would effectively be
Gaussian noise and ICA would not reliably converge. Standard methods for data
reduction use cost functions, like MDL, KIC, and AIC to estimate the variance
that is just noise and remove the lowest variance components under that
threshold.
By default, <code class="docutils literal notranslate"><span class="pre">tedana</span></code> uses AIC.
Of those three, AIC is the least agressive and will retain the most components.</p>
<p><code class="docutils literal notranslate"><span class="pre">Tedana</span></code> includes additional <cite>kundu</cite> and <cite>kundu-stabilize</cite> approaches that
identify and remove components that don’t contain T2* or S0 signal and are more
likely to be noise. If the <cite>–tedpca kundu</cite> option is used, the PCA_metrics tsv
file will include an accepted vs rejected classification column and also a
rationale column of codes documenting why a PCA component removed. If MDL, KIC,
or AIC are used then the classification column will exist, but will include
include the accepted components and the rationale column will contain n/a”
When kundu is used, these are brief explanations of the the rationale codes</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Code</p></th>
<th class="head"><p>Classification</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>P001</p></td>
<td><p>rejected</p></td>
<td><p>Low Rho, Kappa, and variance explained</p></td>
</tr>
<tr class="row-odd"><td><p>P002</p></td>
<td><p>rejected</p></td>
<td><p>Low variance explained</p></td>
</tr>
<tr class="row-even"><td><p>P003</p></td>
<td><p>rejected</p></td>
<td><p>Kappa equals fmax</p></td>
</tr>
<tr class="row-odd"><td><p>P004</p></td>
<td><p>rejected</p></td>
<td><p>Rho equals fmax</p></td>
</tr>
<tr class="row-even"><td><p>P005</p></td>
<td><p>rejected</p></td>
<td><p>Cumulative variance explained above 95% (only in
stabilized PCA decision tree)</p></td>
</tr>
<tr class="row-odd"><td><p>P006</p></td>
<td><p>rejected</p></td>
<td><p>Kappa below fmin (only in stabilized PCA decision tree)</p></td>
</tr>
<tr class="row-even"><td><p>P007</p></td>
<td><p>rejected</p></td>
<td><p>Rho below fmin (only in stabilized PCA decision tree)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="ica-classification-outputs">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">ICA Classification Outputs</a><a class="headerlink" href="#ica-classification-outputs" title="Link to this heading"></a></h3>
<p>The component table is stored in <code class="docutils literal notranslate"><span class="pre">desc-tedana_metrics.tsv</span></code> or
<code class="docutils literal notranslate"><span class="pre">tedana_metrics.tsv</span></code>.
Each row is a component number.
Each column is a metric that is calculated for each component.
Short descriptions of each column metric are in the output log,
<code class="docutils literal notranslate"><span class="pre">tedana_[date_time].tsv</span></code>, and the actual metric calculations are in
<a class="reference internal" href="generated/tedana.metrics.collect.html#module-tedana.metrics.collect" title="tedana.metrics.collect"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collect</span></code></a>.
The final two columns are <code class="docutils literal notranslate"><span class="pre">classification</span></code> and <code class="docutils literal notranslate"><span class="pre">classification_tags</span></code>.
<code class="docutils literal notranslate"><span class="pre">classification</span></code> should include <strong>accepted</strong> or <strong>rejected</strong> for every
component and <strong>rejected</strong> components are be removed through denoising.
<code class="docutils literal notranslate"><span class="pre">classification_tags</span></code> provide more information on why
components received a specific classification.
Each component can receive more than one tag.
The following tags are included depending if <code class="docutils literal notranslate"><span class="pre">--tree</span></code> is “minimal”, “meica”,
“tedana_orig” or if <code class="docutils literal notranslate"><span class="pre">ica_reclassify</span></code> is run. The same tags are included
for “meica” and “tedana_orig”</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Tag</p></th>
<th class="head"><p>Included in Tree</p></th>
<th class="head"><p>Explanation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Likely BOLD</p></td>
<td><p>minimal,meica</p></td>
<td><p>Accepted because likely to include some
BOLD signal</p></td>
</tr>
<tr class="row-odd"><td><p>Unlikely BOLD</p></td>
<td><p>minimal,meica</p></td>
<td><p>Rejected because likely to include a
lot of non-BOLD signal</p></td>
</tr>
<tr class="row-even"><td><p>Low variance</p></td>
<td><p>minimal,meica</p></td>
<td><p>Accepted because too low variance to
lose a degree-of-freedom by rejecting</p></td>
</tr>
<tr class="row-odd"><td><p>Less likely BOLD</p></td>
<td><p>meica</p></td>
<td><p>Rejected based on some edge criteria
based on relative rankings of components</p></td>
</tr>
<tr class="row-even"><td><p>Accept borderline</p></td>
<td><p>meica</p></td>
<td><p>Accepted based on some edge criteria
based on relative rankings of components</p></td>
</tr>
<tr class="row-odd"><td><p>No provisional accept</p></td>
<td><p>meica</p></td>
<td><p>Accepted because because meica tree did
not find any components to consider
accepting so the conservative “failure”
case is accept everything rather than
rejecting everything</p></td>
</tr>
<tr class="row-even"><td><p>manual reclassify</p></td>
<td><p>manual_classify</p></td>
<td><p>Classification based on user input. If
done after automatic selection then
the preceding tag from automatic
selection is retained and this tag
notes the classification was manually
changed</p></td>
</tr>
</tbody>
</table>
<p>The decision tree is a list of nodes where the classification of each component
could change. The information on which nodes and how classifications changed is
in several places:</p>
<ul class="simple">
<li><p>The information in the output log includes the name of each
node and the count of components that changed classification during execution.</p></li>
<li><p>The same information is stored in the <code class="docutils literal notranslate"><span class="pre">ICA</span> <span class="pre">decision</span> <span class="pre">tree</span></code> json file
(see <a class="reference internal" href="#output-filename-descriptions"><span class="std std-ref">Output filename descriptions</span></a>) in the “output” field for each node.
That information is organized so that it can be used to generate a visual or
text-based summary of what happened when the decision tree was run on a
dataset.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">ICA</span> <span class="pre">status</span> <span class="pre">table</span></code> lists the classification status of each component
after each node was run.
This is particularly useful to trying to understand how a specific component
ended receiving its classification.</p></li>
</ul>
</section>
</section>
<section id="ica-components-report">
<h2><a class="toc-backref" href="#id13" role="doc-backlink">ICA Components Report</a><a class="headerlink" href="#ica-components-report" title="Link to this heading"></a></h2>
<p>The reporting page for the tedana decomposition presents a series
of interactive plots designed to help you evaluate the quality of your
analyses. This page describes the plots forming the reports as well as
information on how to take advantage of the interactive functionalities.
You can also play around with <a class="reference external" href="https://me-ica.github.io/ohbm-2023-multiecho/tedana/tedana_results_minimal_five-echo/tedana_report.html">our demo</a>.</p>
<section id="report-structure">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">Report Structure</a><a class="headerlink" href="#report-structure" title="Link to this heading"></a></h3>
<p>The image below shows a representative report. The left is a summary view
which contains information on all components and the right presents additional
information for an individual component. One can hover over any pie chart wedge
or data point in the summary view to see additional information about a
component. Clicking on a component will select the component and the additional
information will appear to the right.</p>
<img alt="_images/rep01_overallview.png" class="align-center" src="_images/rep01_overallview.png" />
</section>
<section id="summary-view">
<h3><a class="toc-backref" href="#id15" role="doc-backlink">Summary View</a><a class="headerlink" href="#summary-view" title="Link to this heading"></a></h3>
<p>This view provides an overview of the decomposition and component
selection results. It includes four different plots.</p>
<ul class="simple">
<li><p><strong>Kappa/Rho Scatter:</strong> This is a scatter plot of <cite>Kappa</cite> vs. <cite>Rho</cite> features for all components.
In the plot, each dot represents a different component. The x-axis represents the kappa feature, and the
y-axis represents the rho feature. <cite>Kappa</cite> is a summary metric for how much
BOLD information might be in a component and <cite>rho</cite> is a summary metric for how
much non-BOLD information is in a component. Thus a component with a higher <cite>kappa</cite>
and lower <cite>rho</cite> value is more likely to be retained. The solid gray line is
<img class="math" src="_images/math/7bbb7d44a4b6e8b405d7e90dd23f70a92cfc81d7.png" alt="\kappa=\rho"/>.  Color is used to label accepted (green) or rejected (red)
components. The size of the circle is the amount of variance explained by the
component so larger circle (higher variance) that seems misclassified is worth
closer inspection. The component classification process uses kappa and rho elbow
thresholds (black dashed lines) along with other criteria. Most accepted
components should be greater than the kappa elbow and less than the rho elbow.
Accepted or rejected components that don’t cross those thresholds might be
worth additional inspection. Hovering over a component also shows a <cite>Tag</cite>
that explains why a component received its classification.</p></li>
</ul>
<a class="reference internal image-reference" href="_images/rep01_kapparhoScatter.png"><img alt="_images/rep01_kapparhoScatter.png" class="align-center" src="_images/rep01_kapparhoScatter.png" style="height: 400px;" />
</a>
<ul class="simple">
<li><p><strong>Kappa Scree Plot:</strong> This scree plot provides a view of the components ranked by <cite>Kappa</cite>.
As in the previous plot, each dot represents a component. The color of the dot informs us
about classification status. The dashed line is the kappa elbow threshold.
In this plot, size is not related to variance explained, but you can see the variance
explained by hovering over any dot.</p></li>
</ul>
<a class="reference internal image-reference" href="_images/rep01_kappaScree.png"><img alt="_images/rep01_kappaScree.png" class="align-center" src="_images/rep01_kappaScree.png" style="height: 400px;" />
</a>
<ul class="simple">
<li><p><strong>Rho Scree Plot:</strong> This scree plot provides a view of the components ranked by <cite>Rho</cite>.
As in the previous plot, each dot represents a component. The color of the dot informs us
about classification status. The dashed line is the rho elbow threshold.
Size is not related to variance explained.</p></li>
</ul>
<a class="reference internal image-reference" href="_images/rep01_rhoScree.png"><img alt="_images/rep01_rhoScree.png" class="align-center" src="_images/rep01_rhoScree.png" style="height: 400px;" />
</a>
<ul class="simple">
<li><p><strong>Variance Explained Plot:</strong> This pie plot provides a summary of how much variance is explained
by each individual component, as well as the total variance explained by each of the two
classification categories (i.e., accepted, rejected). In this plot, each component is
represented as a wedge, whose size is directly related to the amount of variance explained. The
color of the wedge inform us about the classification status of the component. For this view,
components are sorted by classification first, and inside each classification group by variance
explained.</p></li>
</ul>
<a class="reference internal image-reference" href="_images/rep01_varexpPie.png"><img alt="_images/rep01_varexpPie.png" class="align-center" src="_images/rep01_varexpPie.png" style="height: 400px;" />
</a>
</section>
<section id="individual-component-view">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">Individual Component View</a><a class="headerlink" href="#individual-component-view" title="Link to this heading"></a></h3>
<p>This view provides detailed information about an individual
component (selected in the summary view, see below). It includes three different plots.</p>
<ul class="simple">
<li><p><strong>Time series:</strong> This plot shows the time series associated with a given component
(selected in the summary view). The x-axis represents time (in units of TR and seconds),
and the y-axis represents signal levels (in arbitrary units).
Finally, the color of the trace informs us about the component classification status.
Plausibly BOLD-weighted components might have responses that follow the task design,
while components that are less likely to be BOLD-weighted might have large signal
spikes or slow drifts. If a high variance component time series initially has a few
very high magnitude volumes, that is a sign non-steady state volumes were not removed
before running <code class="docutils literal notranslate"><span class="pre">tedana</span></code>. Keeping these volumes might results in a suboptimal ICA
results. <code class="docutils literal notranslate"><span class="pre">tedana</span></code> should be run without any initial non-steady state volumes.</p></li>
</ul>
<a class="reference internal image-reference" href="_images/rep01_tsPlot.png"><img alt="_images/rep01_tsPlot.png" class="align-center" src="_images/rep01_tsPlot.png" style="height: 150px;" />
</a>
<ul class="simple">
<li><p><strong>Component beta map:</strong> This plot shows the map of the beta coefficients associated with
a given component (selected in the summary view). The colorbar represents the amplitude
of the beta coefficients. The same weights could be flipped postive/negative so relative
values are more relevant that what is very positive vs negative.
Plausibly BOLD-weighted components should have larger hotspots in area that follow
cortical or cerebellar brain structure. Hotspots in ventricles, on the edges of the
brain or slice-specific or slice-alternating effects are signs of artifacts.</p></li>
</ul>
<a class="reference internal image-reference" href="_images/rep01_betaMap.png"><img alt="_images/rep01_betaMap.png" class="align-center" src="_images/rep01_betaMap.png" style="height: 400px;" />
</a>
<ul class="simple">
<li><p><strong>Spectrum:</strong> This plot shows the spectrogram associated with a given component
(selected in the summary view). The x-axis represents frequency (in Hz), and the
y-axis represents spectral amplitude. BOLD-weighted signals will likely have most
power below 0.1Hz. Peaks at higher frequencies are signs of non-BOLD signals. A
respiration artifact might be around 0.25-0.33Hz and a cardiac artifact might be
around 1Hz. This plot shows the maximum resolvable frequency given the TR, so
those higher frequencies might fold over to different peaks that are still above
0.1Hz. Respirator and cardiac fluctuation artifacts are also sometimes visible
in the time series.</p></li>
</ul>
<a class="reference internal image-reference" href="_images/rep01_fftPlot.png"><img alt="_images/rep01_fftPlot.png" class="align-center" src="_images/rep01_fftPlot.png" style="height: 150px;" />
</a>
</section>
<section id="reports-user-interactions">
<h3><a class="toc-backref" href="#id17" role="doc-backlink">Reports User Interactions</a><a class="headerlink" href="#reports-user-interactions" title="Link to this heading"></a></h3>
<p>As previously mentioned, all summary plots in the report allow user interactions. While the
Kappa/Rho Scatter plot allows full user interaction (see the toolbar that accompanies the plot
and the example below), the other three plots allow the user to select components and update the
figures.</p>
<a class="reference internal image-reference" href="_images/rep01_tools.png"><img alt="_images/rep01_tools.png" class="align-center" src="_images/rep01_tools.png" style="height: 25px;" />
</a>
<p>The table below includes information about all available interactions</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Interaction</p></th>
<th class="head"><p>Icon</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Reset</p></td>
<td><p><a class="reference internal" href="_images/rep01_tool_reset.png"><img alt="Reset" src="_images/rep01_tool_reset.png" style="height: 25px;" /></a></p></td>
<td><p>Resets the data bounds of the plot to their values when
the plot was initially created.</p></td>
</tr>
<tr class="row-odd"><td><p>Wheel Zoom</p></td>
<td><p><a class="reference internal" href="_images/rep01_tool_wheelzoom.png"><img alt="WZoom" src="_images/rep01_tool_wheelzoom.png" style="height: 25px;" /></a></p></td>
<td><p>Zoom the plot in and out, centered on the current
mouse location.</p></td>
</tr>
<tr class="row-even"><td><p>Box Zoom</p></td>
<td><p><a class="reference internal" href="_images/rep01_tool_areazoom.png"><img alt="BZoom" src="_images/rep01_tool_areazoom.png" style="height: 25px;" /></a></p></td>
<td><p>Define a rectangular region of a plot to zoom to by
dragging the mouse over the plot region.</p></td>
</tr>
<tr class="row-odd"><td><p>Crosshair</p></td>
<td><p><a class="reference internal" href="_images/rep01_tool_crosshair.png"><img alt="CHair" src="_images/rep01_tool_crosshair.png" style="height: 25px;" /></a></p></td>
<td><p>Draws a crosshair annotation over the plot, centered on
the current mouse position</p></td>
</tr>
<tr class="row-even"><td><p>Pan</p></td>
<td><p><a class="reference internal" href="_images/rep01_tool_pan.png"><img alt="Pan" src="_images/rep01_tool_pan.png" style="height: 25px;" /></a></p></td>
<td><p>Allows the user to pan a plot by left-dragging a mouse
across the plot region.</p></td>
</tr>
<tr class="row-odd"><td><p>Hover</p></td>
<td><p><a class="reference internal" href="_images/rep01_tool_hover.png"><img alt="Hover" src="_images/rep01_tool_hover.png" style="height: 25px;" /></a></p></td>
<td><p>If active, the plot displays informational tooltips
whenever the cursor is directly over a plot element.</p></td>
</tr>
<tr class="row-even"><td><p>Selection</p></td>
<td><p><a class="reference internal" href="_images/rep01_tool_select.png"><img alt="Sel" src="_images/rep01_tool_select.png" style="height: 25px;" /></a></p></td>
<td><p>Allows user to select components by tapping on the dot
or wedge that represents them. Once a component is
selected, the plots forming the individual component
view update to show component specific information.</p></td>
</tr>
<tr class="row-odd"><td><p>Save</p></td>
<td><p><a class="reference internal" href="_images/rep01_tool_save.png"><img alt="Save" src="_images/rep01_tool_save.png" style="height: 25px;" /></a></p></td>
<td><p>Saves an image reproduction of the plot in PNG format.</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Specific user interactions can be switched on/off by clicking on their associated icon within
the toolbar of a given plot. Active interactions show an horizontal blue line underneath their
icon, while inactive ones lack the line.</p>
</div>
</section>
</section>
<section id="robustica-component-clusters">
<h2><a class="toc-backref" href="#id18" role="doc-backlink">RobustICA Component Clusters</a><a class="headerlink" href="#robustica-component-clusters" title="Link to this heading"></a></h2>
<p>This plot will appear when the <code class="docutils literal notranslate"><span class="pre">--ica_method</span> <span class="pre">robustica</span></code> option is used.
RobustICA runs multiple iterations of ICA and identifies stable components
across iterations. This plot uses t-SNE to plot the components in 2D.
Each marker is a component from one iteration.
Components that are in stable clusters are black dots
and the dashed blue line surrounds the cluster.
Hover text shows the cluster number for each dot.
Components that are not in stable clusters are red x’s.
This figure is a work-in-progress in attempting to find ways to evaluate
robustICA results.
In general, tight clusters of black dots are better.
When evaluating results, a run with more diffuse clusters than others
with the same acquisition parameters,
but it’s unclear what variations are genuinely problemmatic.
The red x’s sometimes appear in clusters that are below the threshold
for being a cluster, but it’s unclear how to decide if clusters were missed.
If a cluster has some black dots that are far from others in the cluster,
that might be an effect of the t-SNE dimensionality reduction.
The goal of future work will be to improve visualizations
and quantification of clusters.</p>
<a class="reference internal image-reference" href="_images/rep01_ica_tsne_plot.png"><img alt="_images/rep01_ica_tsne_plot.png" class="align-center" src="_images/rep01_ica_tsne_plot.png" style="height: 400px;" />
</a>
</section>
<section id="carpet-plots">
<h2><a class="toc-backref" href="#id19" role="doc-backlink">Carpet plots</a><a class="headerlink" href="#carpet-plots" title="Link to this heading"></a></h2>
<p>In additional to the elements described above, <code class="docutils literal notranslate"><span class="pre">tedana</span></code>’s interactive reports include carpet plots for the main outputs of the workflow:
the optimally combined data, the denoised data, the high-Kappa (accepted) data, and the low-Kappa (rejected) data. Each row is a voxel
and the grayscale is the relative signal changes across time. After denoising, voxels that look very different from others across time
or time points that are uniformly high or low across voxels are concerning. These carpet plots can be help as a quick quality check for
data, but since some neural signals really are more global than others and there are voxelwise differences in responses, quality checks
should not overly focus on carpet plots and should examine these results in context with other quality measures.</p>
<a class="reference internal image-reference" href="_images/carpet_overview.png"><img alt="_images/carpet_overview.png" class="align-center" src="_images/carpet_overview.png" style="height: 400px;" />
</a>
</section>
<section id="adaptive-mask-summary-plot">
<h2><a class="toc-backref" href="#id20" role="doc-backlink">Adaptive Mask Summary Plot</a><a class="headerlink" href="#adaptive-mask-summary-plot" title="Link to this heading"></a></h2>
<p>Below the carpet plots is a summary plot of the adaptive mask.</p>
<p>This figure overlays contours reflecting the boundaries of the following masks onto the mean optimally combined data:</p>
<ul class="simple">
<li><p><strong>Base</strong>: The base mask, either provided by the user or generated automatically using <code class="docutils literal notranslate"><span class="pre">compute_epi_mask</span></code>.</p></li>
<li><p><strong>Optimal combination</strong>: The mask used for optimal combination and denoising.
This corresponds to values greater than or equal to 1 (at least 1 good echo) in the adaptive mask.</p></li>
<li><p><strong>Classification</strong>: The mask used for the decomposition and component classification steps.
This corresponds to values greather than or equal to 3 (at least 3 good echoes) in the adaptive mask.</p></li>
</ul>
<a class="reference internal image-reference" href="_images/adaptive_mask.png"><img alt="_images/adaptive_mask.png" class="align-center" src="_images/adaptive_mask.png" style="height: 400px;" />
</a>
</section>
<section id="t2-and-s0-summary-plots">
<h2><a class="toc-backref" href="#id21" role="doc-backlink">T2* and S0 Summary Plots</a><a class="headerlink" href="#t2-and-s0-summary-plots" title="Link to this heading"></a></h2>
<p>Below the adaptive mask plot are summary plots for the T2* and S0 maps.
Each map has two figures: a spatial map of the values and a histogram of the voxelwise values.
The T2* map should look similar to T2 maps and be brightest in the ventricles and darkest in areas of largest susceptibility.
The S0 map should roughly follow the signal-to-noise ratio and will be brightest near the surface near RF coils.</p>
<p>It is important to note that the histogram is limited from 0 to the 98th percentile of the data to improve readability.</p>
<a class="reference internal image-reference" href="_images/t2star_plots.png"><img alt="_images/t2star_plots.png" class="align-center" src="_images/t2star_plots.png" style="height: 400px;" />
</a>
</section>
<section id="decay-model-fit-plots">
<h2><a class="toc-backref" href="#id22" role="doc-backlink">Decay Model Fit Plots</a><a class="headerlink" href="#decay-model-fit-plots" title="Link to this heading"></a></h2>
<p>Below the T2* and S0 summary plots are the decay model fit plots.
These plots show residual mean squared error (RMSE) values for the
monoexponential decay model, based on the T2* and S0 maps.</p>
<p>The first plot is the mean RMSE brain plot, which shows the mean RMSE over time for each voxel in the brain.
This plot is limited from the 2nd percentile to the 98th percentile.</p>
<p>The second plot is a time series of RMSE values across the brain, over time.
This plot includes the median RMSE time series,
along with an error band representing the 25th and 75th percentiles,
and dotted lines indicating the 2nd and 98th percentile RMSE values.</p>
<p>The fit quality will vary depending on acquisition parameters and will likely be worse near signal drop-out areas.
For a study with consistent acquisition parameters,
relatively high RMSE values for runs or timepoints might be a marker of an underlying data quality issue.</p>
<a class="reference internal image-reference" href="_images/rmse_plots.png"><img alt="_images/rmse_plots.png" class="align-center" src="_images/rmse_plots.png" style="height: 400px;" />
</a>
</section>
<section id="global-signal-removal-plots">
<h2><a class="toc-backref" href="#id23" role="doc-backlink">Global Signal Removal Plots</a><a class="headerlink" href="#global-signal-removal-plots" title="Link to this heading"></a></h2>
<p>Below the decay model fit plots are the global signal removal plots, if <code class="docutils literal notranslate"><span class="pre">--gscontrol</span></code> was used.
These plots show the voxel-wise global signal weights and the global signal time series.</p>
<a class="reference internal image-reference" href="_images/gsr_plots.png"><img alt="_images/gsr_plots.png" class="align-center" src="_images/gsr_plots.png" style="height: 400px;" />
</a>
</section>
<section id="citable-workflow-summaries">
<h2><a class="toc-backref" href="#id24" role="doc-backlink">Citable workflow summaries</a><a class="headerlink" href="#citable-workflow-summaries" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">tedana</span></code> generates a report for the workflow, customized based on the parameters used and including relevant citations.
The report is saved in a plain-text file, report.txt, in the output directory.</p>
<p>An example report</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>The boilerplate text includes citations in LaTeX format.
\citep refers to parenthetical citations, while \cite refers to textual ones.</p>
</div>
<p>TE-dependence analysis was performed on input data using the tedana workflow \citep{dupre2021te}.
An adaptive mask was then generated, in which each voxel’s value reflects the number of echoes with ‘good’ data.
A two-stage masking procedure was applied, in which a liberal mask (including voxels with good data in at least the first echo) was used for optimal combination, T2*/S0 estimation, and denoising, while a more conservative mask (restricted to voxels with good data in at least the first three echoes) was used for the component classification procedure.
Multi-echo data were then optimally combined using the T2* combination method \citep{posse1999enhancement}.
Next, components were manually classified as BOLD (TE-dependent), non-BOLD (TE-independent), or uncertain (low-variance).
This workflow used numpy \citep{van2011numpy}, scipy \citep{virtanen2020scipy}, pandas \citep{mckinney2010data,reback2020pandas}, scikit-learn \citep{pedregosa2011scikit}, nilearn, bokeh \citep{bokehmanual}, matplotlib \citep{Hunter2007}, and nibabel \citep{brett_matthew_2019_3233118}.
This workflow also used the Dice similarity index \citep{dice1945measures,sorensen1948method}.</p>
<p>References</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The references are also provided in the <code class="docutils literal notranslate"><span class="pre">references.bib</span></code> output file.</p>
</div>
<div class="highlight-bibtex notranslate"><div class="highlight"><pre><span></span><span class="nc">@Manual</span><span class="p">{</span><span class="nl">bokehmanual</span><span class="p">,</span>
<span class="w">    </span><span class="na">title</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{Bokeh: Python library for interactive visualization}</span><span class="p">,</span>
<span class="w">    </span><span class="na">author</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{{Bokeh Development Team}}</span><span class="p">,</span>
<span class="w">    </span><span class="na">year</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{2018}</span><span class="p">,</span>
<span class="w">    </span><span class="na">url</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{https://bokeh.pydata.org/en/latest/}</span><span class="p">,</span>
<span class="p">}</span>
<span class="nc">@article</span><span class="p">{</span><span class="nl">dice1945measures</span><span class="p">,</span>
<span class="w">    </span><span class="na">title</span><span class="p">=</span><span class="s">{Measures of the amount of ecologic association between species}</span><span class="p">,</span>
<span class="w">    </span><span class="na">author</span><span class="p">=</span><span class="s">{Dice, Lee R}</span><span class="p">,</span>
<span class="w">    </span><span class="na">journal</span><span class="p">=</span><span class="s">{Ecology}</span><span class="p">,</span>
<span class="w">    </span><span class="na">volume</span><span class="p">=</span><span class="s">{26}</span><span class="p">,</span>
<span class="w">    </span><span class="na">number</span><span class="p">=</span><span class="s">{3}</span><span class="p">,</span>
<span class="w">    </span><span class="na">pages</span><span class="p">=</span><span class="s">{297--302}</span><span class="p">,</span>
<span class="w">    </span><span class="na">year</span><span class="p">=</span><span class="s">{1945}</span><span class="p">,</span>
<span class="w">    </span><span class="na">publisher</span><span class="p">=</span><span class="s">{JSTOR}</span><span class="p">,</span>
<span class="w">    </span><span class="na">url</span><span class="p">=</span><span class="s">{https://doi.org/10.2307/1932409}</span><span class="p">,</span>
<span class="w">    </span><span class="na">doi</span><span class="p">=</span><span class="s">{10.2307/1932409}</span>
<span class="p">}</span>
<span class="nc">@article</span><span class="p">{</span><span class="nl">dupre2021te</span><span class="p">,</span>
<span class="w">    </span><span class="na">title</span><span class="p">=</span><span class="s">{TE-dependent analysis of multi-echo fMRI with* tedana}</span><span class="p">,</span>
<span class="w">    </span><span class="na">author</span><span class="p">=</span><span class="s">{DuPre, Elizabeth and Salo, Taylor and Ahmed, Zaki and Bandettini, Peter A and Bottenhorn, Katherine L and Caballero-Gaudes, C{\&#39;e}sar and Dowdle, Logan T and Gonzalez-Castillo, Javier and Heunis, Stephan and Kundu, Prantik and others}</span><span class="p">,</span>
<span class="w">    </span><span class="na">journal</span><span class="p">=</span><span class="s">{Journal of Open Source Software}</span><span class="p">,</span>
<span class="w">    </span><span class="na">volume</span><span class="p">=</span><span class="s">{6}</span><span class="p">,</span>
<span class="w">    </span><span class="na">number</span><span class="p">=</span><span class="s">{66}</span><span class="p">,</span>
<span class="w">    </span><span class="na">pages</span><span class="p">=</span><span class="s">{3669}</span><span class="p">,</span>
<span class="w">    </span><span class="na">year</span><span class="p">=</span><span class="s">{2021}</span><span class="p">,</span>
<span class="w">    </span><span class="na">url</span><span class="p">=</span><span class="s">{https://doi.org/10.21105/joss.03669}</span><span class="p">,</span>
<span class="w">    </span><span class="na">doi</span><span class="p">=</span><span class="s">{10.21105/joss.03669}</span>
<span class="p">}</span>
<span class="nc">@inproceedings</span><span class="p">{</span><span class="nl">mckinney2010data</span><span class="p">,</span>
<span class="w">    </span><span class="na">title</span><span class="p">=</span><span class="s">{Data structures for statistical computing in python}</span><span class="p">,</span>
<span class="w">    </span><span class="na">author</span><span class="p">=</span><span class="s">{McKinney, Wes and others}</span><span class="p">,</span>
<span class="w">    </span><span class="na">booktitle</span><span class="p">=</span><span class="s">{Proceedings of the 9th Python in Science Conference}</span><span class="p">,</span>
<span class="w">    </span><span class="na">volume</span><span class="p">=</span><span class="s">{445}</span><span class="p">,</span>
<span class="w">    </span><span class="na">number</span><span class="p">=</span><span class="s">{1}</span><span class="p">,</span>
<span class="w">    </span><span class="na">pages</span><span class="p">=</span><span class="s">{51--56}</span><span class="p">,</span>
<span class="w">    </span><span class="na">year</span><span class="p">=</span><span class="s">{2010}</span><span class="p">,</span>
<span class="w">    </span><span class="na">organization</span><span class="p">=</span><span class="s">{Austin, TX}</span><span class="p">,</span>
<span class="w">    </span><span class="na">url</span><span class="p">=</span><span class="s">{https://doi.org/10.25080/Majora-92bf1922-00a}</span><span class="p">,</span>
<span class="w">    </span><span class="na">doi</span><span class="p">=</span><span class="s">{10.25080/Majora-92bf1922-00a}</span>
<span class="p">}</span>
<span class="nc">@article</span><span class="p">{</span><span class="nl">pedregosa2011scikit</span><span class="p">,</span>
<span class="w">    </span><span class="na">title</span><span class="p">=</span><span class="s">{Scikit-learn: Machine learning in Python}</span><span class="p">,</span>
<span class="w">    </span><span class="na">author</span><span class="p">=</span><span class="s">{Pedregosa, Fabian and Varoquaux, Ga{\&quot;e}l and Gramfort, Alexandre and Michel, Vincent and Thirion, Bertrand and Grisel, Olivier and Blondel, Mathieu and Prettenhofer, Peter and Weiss, Ron and Dubourg, Vincent and others}</span><span class="p">,</span>
<span class="w">    </span><span class="na">journal</span><span class="p">=</span><span class="s">{the Journal of machine Learning research}</span><span class="p">,</span>
<span class="w">    </span><span class="na">volume</span><span class="p">=</span><span class="s">{12}</span><span class="p">,</span>
<span class="w">    </span><span class="na">pages</span><span class="p">=</span><span class="s">{2825--2830}</span><span class="p">,</span>
<span class="w">    </span><span class="na">year</span><span class="p">=</span><span class="s">{2011}</span><span class="p">,</span>
<span class="w">    </span><span class="na">publisher</span><span class="p">=</span><span class="s">{JMLR. org}</span><span class="p">,</span>
<span class="w">    </span><span class="na">url</span><span class="p">=</span><span class="s">{http://jmlr.org/papers/v12/pedregosa11a.html}</span>
<span class="p">}</span>
<span class="nc">@article</span><span class="p">{</span><span class="nl">posse1999enhancement</span><span class="p">,</span>
<span class="w">    </span><span class="na">title</span><span class="p">=</span><span class="s">{Enhancement of BOLD-contrast sensitivity by single-shot multi-echo functional MR imaging}</span><span class="p">,</span>
<span class="w">    </span><span class="na">author</span><span class="p">=</span><span class="s">{Posse, Stefan and Wiese, Stefan and Gembris, Daniel and Mathiak, Klaus and Kessler, Christoph and Grosse-Ruyken, Maria-Liisa and Elghahwagi, Barbara and Richards, Todd and Dager, Stephen R and Kiselev, Valerij G}</span><span class="p">,</span>
<span class="w">    </span><span class="na">journal</span><span class="p">=</span><span class="s">{Magnetic Resonance in Medicine: An Official Journal of the International Society for Magnetic Resonance in Medicine}</span><span class="p">,</span>
<span class="w">    </span><span class="na">volume</span><span class="p">=</span><span class="s">{42}</span><span class="p">,</span>
<span class="w">    </span><span class="na">number</span><span class="p">=</span><span class="s">{1}</span><span class="p">,</span>
<span class="w">    </span><span class="na">pages</span><span class="p">=</span><span class="s">{87--97}</span><span class="p">,</span>
<span class="w">    </span><span class="na">year</span><span class="p">=</span><span class="s">{1999}</span><span class="p">,</span>
<span class="w">    </span><span class="na">publisher</span><span class="p">=</span><span class="s">{Wiley Online Library}</span><span class="p">,</span>
<span class="w">    </span><span class="na">url</span><span class="p">=</span><span class="s">{https://doi.org/10.1002/(SICI)1522-2594(199907)42:1&lt;87::AID-MRM13&gt;3.0.CO;2-O}</span><span class="p">,</span>
<span class="w">    </span><span class="na">doi</span><span class="p">=</span><span class="s">{10.1002/(SICI)1522-2594(199907)42:1&lt;87::AID-MRM13&gt;3.0.CO;2-O}</span>
<span class="p">}</span>
<span class="nc">@software</span><span class="p">{</span><span class="nl">reback2020pandas</span><span class="p">,</span>
<span class="w">    </span><span class="na">author</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{The pandas development team}</span><span class="p">,</span>
<span class="w">    </span><span class="na">title</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{pandas-dev/pandas: Pandas}</span><span class="p">,</span>
<span class="w">    </span><span class="na">month</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nv">feb</span><span class="p">,</span>
<span class="w">    </span><span class="na">year</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">2020</span><span class="p">,</span>
<span class="w">    </span><span class="na">publisher</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{Zenodo}</span><span class="p">,</span>
<span class="w">    </span><span class="na">version</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{latest}</span><span class="p">,</span>
<span class="w">    </span><span class="na">doi</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{10.5281/zenodo.3509134}</span><span class="p">,</span>
<span class="w">    </span><span class="na">url</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{https://doi.org/10.5281/zenodo.3509134}</span>
<span class="p">}</span>
<span class="nc">@article</span><span class="p">{</span><span class="nl">sorensen1948method</span><span class="p">,</span>
<span class="w">    </span><span class="na">title</span><span class="p">=</span><span class="s">{A method of establishing groups of equal amplitude in plant sociology based on similarity of species content and its application to analyses of the vegetation on Danish commons}</span><span class="p">,</span>
<span class="w">    </span><span class="na">author</span><span class="p">=</span><span class="s">{Sorensen, Th A}</span><span class="p">,</span>
<span class="w">    </span><span class="na">journal</span><span class="p">=</span><span class="s">{Biol. Skar.}</span><span class="p">,</span>
<span class="w">    </span><span class="na">volume</span><span class="p">=</span><span class="s">{5}</span><span class="p">,</span>
<span class="w">    </span><span class="na">pages</span><span class="p">=</span><span class="s">{1--34}</span><span class="p">,</span>
<span class="w">    </span><span class="na">year</span><span class="p">=</span><span class="s">{1948}</span>
<span class="p">}</span>
<span class="nc">@article</span><span class="p">{</span><span class="nl">van2011numpy</span><span class="p">,</span>
<span class="w">    </span><span class="na">title</span><span class="p">=</span><span class="s">{The NumPy array: a structure for efficient numerical computation}</span><span class="p">,</span>
<span class="w">    </span><span class="na">author</span><span class="p">=</span><span class="s">{Van Der Walt, Stefan and Colbert, S Chris and Varoquaux, Gael}</span><span class="p">,</span>
<span class="w">    </span><span class="na">journal</span><span class="p">=</span><span class="s">{Computing in science \&amp; engineering}</span><span class="p">,</span>
<span class="w">    </span><span class="na">volume</span><span class="p">=</span><span class="s">{13}</span><span class="p">,</span>
<span class="w">    </span><span class="na">number</span><span class="p">=</span><span class="s">{2}</span><span class="p">,</span>
<span class="w">    </span><span class="na">pages</span><span class="p">=</span><span class="s">{22--30}</span><span class="p">,</span>
<span class="w">    </span><span class="na">year</span><span class="p">=</span><span class="s">{2011}</span><span class="p">,</span>
<span class="w">    </span><span class="na">publisher</span><span class="p">=</span><span class="s">{IEEE}</span><span class="p">,</span>
<span class="w">    </span><span class="na">url</span><span class="p">=</span><span class="s">{https://doi.org/10.1109/MCSE.2011.37}</span><span class="p">,</span>
<span class="w">    </span><span class="na">doi</span><span class="p">=</span><span class="s">{10.1109/MCSE.2011.37}</span>
<span class="p">}</span>
<span class="nc">@article</span><span class="p">{</span><span class="nl">virtanen2020scipy</span><span class="p">,</span>
<span class="w">    </span><span class="na">title</span><span class="p">=</span><span class="s">{SciPy 1.0: fundamental algorithms for scientific computing in Python}</span><span class="p">,</span>
<span class="w">    </span><span class="na">author</span><span class="p">=</span><span class="s">{Virtanen, Pauli and Gommers, Ralf and Oliphant, Travis E and Haberland, Matt and Reddy, Tyler and Cournapeau, David and Burovski, Evgeni and Peterson, Pearu and Weckesser, Warren and Bright, Jonathan and others}</span><span class="p">,</span>
<span class="w">    </span><span class="na">journal</span><span class="p">=</span><span class="s">{Nature methods}</span><span class="p">,</span>
<span class="w">    </span><span class="na">volume</span><span class="p">=</span><span class="s">{17}</span><span class="p">,</span>
<span class="w">    </span><span class="na">number</span><span class="p">=</span><span class="s">{3}</span><span class="p">,</span>
<span class="w">    </span><span class="na">pages</span><span class="p">=</span><span class="s">{261--272}</span><span class="p">,</span>
<span class="w">    </span><span class="na">year</span><span class="p">=</span><span class="s">{2020}</span><span class="p">,</span>
<span class="w">    </span><span class="na">publisher</span><span class="p">=</span><span class="s">{Nature Publishing Group}</span><span class="p">,</span>
<span class="w">    </span><span class="na">url</span><span class="p">=</span><span class="s">{https://doi.org/10.1038/s41592-019-0686-2}</span><span class="p">,</span>
<span class="w">    </span><span class="na">doi</span><span class="p">=</span><span class="s">{10.1038/s41592-019-0686-2}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="approach.html" class="btn btn-neutral float-left" title="tedana’s denoising approach" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="faq.html" class="btn btn-neutral float-right" title="FAQ" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2025, tedana developers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>